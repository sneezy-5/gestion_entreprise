import"./caller.service-afc094da.js";import{e as V}from"./employees.service-ebfa0509.js";import{d as E,r as m,O as I,l as M,o as x,m as f,k as o,e as n,p,bS as v,i,aL as b,f as e,Y as g,bc as w,t as s,V as C,R as B,S as U,P as L}from"./index-54e10577.js";import{a as O,b as R,V as $,e as j}from"./VCard-9f617b6a.js";import{V as F}from"./VDialog-d6bbd018.js";import{V as Q,a as Y}from"./VPagination-c4475e8a.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const z=h=>(B("data-v-97746650"),h=h(),U(),h),G={class:"flex-end"},H=z(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"}," Matricule "),e("th",{class:"text-uppercase"}," Nom "),e("th",{class:"text-uppercase text-center"}," Prénom "),e("th",{class:"text-uppercase text-center"}," Civilité "),e("th",{class:"text-uppercase text-center"}," Poste "),e("th",{class:"text-uppercase"}," Date de naissance "),e("th",{class:"text-uppercase"}," Lieu de naissance "),e("th",{class:"text-uppercase"}," Nationnalité "),e("th",{class:"text-uppercase"}," Phone "),e("th",{class:"text-uppercase"}," CMU "),e("th",{class:"text-uppercase"}," CNPS "),e("th",{class:"text-uppercase"}," Rue "),e("th",null," Quartier "),e("th",null," ville "),e("th",null," Pays "),e("th",{class:"text-uppercase"}," Stutus Matrimonial "),e("th",{class:"text-uppercase"}," Nombre de part "),e("th",{class:"text-uppercase"}," Nombre de charge "),e("th",{class:"text-uppercase"}," Ancièneté "),e("th",{class:"text-uppercase"}," Date d'embauche "),e("th",{class:"text-uppercase"}," Départ "),e("th",{class:"text-uppercase"}," Email "),e("th",{class:"text-uppercase text-center"}," Action ")])],-1)),J={class:"text-center"},K={class:"text-center"},W={class:"text-center"},X={class:"text-center"},Z=["onClick"],ee=["onClick"],te={class:"text-xs-center"},D=5,se=E({__name:"DemoSimpleTableDensity",setup(h){let y=m(0);const d=I([]),c=m(!1),S=l=>{y.value=l,c.value=!0},N=()=>{c.value=!1};let k=l=>{L.push({name:"edit-employe",params:{id:l}})},r=m(1);const _=()=>{console.log(r);const l=(r.value-1)*D,u=`limit=${D}&offset=${l}`;V.getAllEmployees(u).then(a=>{const t=a.data.results;d.pop(),d.push(a.data),console.log(d[0].results,t)}).catch(a=>{(a.status="401")&&console.error(a)})},P=()=>{V.deleteEmploye(y.value).then(l=>{_()}).catch(l=>{(l.status="401")&&console.error(l)}),c.value=!1};_();const A=M(()=>{var l;return Math.ceil(((l=d[0])==null?void 0:l.count)/5)});return(l,u)=>(x(),f(g,null,[o(F,{modelValue:i(c),"onUpdate:modelValue":u[0]||(u[0]=a=>b(c)?c.value=a:null),"max-width":"500px"},{default:n(()=>[o(O,null,{default:n(()=>[o(R,{class:"headline"},{default:n(()=>[p("Confirmation de suppression")]),_:1}),o($,null,{default:n(()=>[p(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),o(j,null,{default:n(()=>[o(v,{onClick:P,style:{color:"red"}},{default:n(()=>[p("Confimer")]),_:1}),o(v,{onClick:N},{default:n(()=>[p("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",G,[o(v,{to:"/create-employee"},{default:n(()=>[p("Ajouter")]),_:1})]),o(Q,{density:"compact"},{default:n(()=>{var a;return[H,e("tbody",null,[(x(!0),f(g,null,w((a=i(d)[0])==null?void 0:a.results,t=>(x(),f("tr",{key:t.id},[e("td",null,s(t.matricule),1),e("td",null,s(t.firstName),1),e("td",J,s(t.lastName),1),e("td",K,s(t.civility),1),e("td",W,s(t.currentPosition),1),e("td",null,s(t.birthdate),1),e("td",null,s(t.birthplace),1),e("td",null,s(t.nationality),1),e("td",null,s(t.phonenumbers),1),e("td",null,s(t.CMUnumber),1),e("td",null,s(t.CNPSnumber),1),e("td",null,s(t.street),1),e("td",null,s(t.neighborhood),1),e("td",null,s(t.city),1),e("td",null,s(t.country),1),e("td",null,s(t.maritalStatus),1),e("td",null,s(t.NbrOfParts),1),e("td",null,s(t.numberOfDependents),1),e("td",null,s(t.seniority),1),e("td",null,s(t.hiringDate),1),e("td",null,s(t.exitDate),1),e("td",null,s(t.email),1),e("td",X,[e("button",{onClick:T=>i(k)(t.id)},[o(C,{icon:"mdi-edit"})],8,Z),e("button",{onClick:T=>S(t.id)},[o(C,{icon:"mdi-trash",style:{color:"red"}})],8,ee)])]))),128))])]}),_:1}),e("div",te,[o(Y,{modelValue:i(r),"onUpdate:modelValue":u[1]||(u[1]=a=>b(r)?r.value=a:r=a),length:i(A),circle:"",onClick:_},null,8,["modelValue","length"])])],64))}});const de=q(se,[["__scopeId","data-v-97746650"]]);export{de as D};
