import{d as k,r as f,ba as $,bW as y,o as E,c as A,e as a,k as e,bS as S,i as s,f as m,m as U,be as j,Z as G,bV as p,p as _,N as R,V,t as h,O as L,a as B,aM as T}from"./index-548d44d1.js";import{a as I,V as b}from"./VCard-fc59d69e.js";import{V as D}from"./VCounter-3543cf5b.js";import{V as x,a as c}from"./VRow-4f92fdd1.js";import{V as v}from"./VTextField-f85f9694.js";import{V as F}from"./VSnackbar-7e8d4438.js";import{a as N}from"./avatar-1-4acd3e19.js";import{V as z}from"./VAvatar-2a93fb47.js";import{V as M}from"./ssrBoot-595446f4.js";import{V as W}from"./VSelect-881b3fd7.js";import{V as q,a as C,b as J,c as K}from"./VWindowItem-c838faa7.js";import"./VImg-a20b01d5.js";import"./forwardRefs-a29b5f65.js";import"./index-d9ad5dd9.js";import"./easing-9f15041e.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./VMenu-528d0b92.js";import"./dialog-transition-ec6f11a2.js";import"./VCheckboxBtn-172bb155.js";const O=m("p",{class:"text-base font-weight-medium mt-2"}," Password Requirements: ",-1),Z={class:"d-flex flex-column gap-y-3"},H={class:"font-weight-medium"},Q=k({__name:"AccountSettingsSecurityT",setup(P){const d=f(!1),o=f(!1),w=f(!1),g=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"],i=f({show:!1,text:"",color:""}),l=$({password_current:"",password:"",password_confirmation:"",profile_image:"",formErrors:{password_current:!1,password:!1,password_confirmation:!1}});y.getProfile().then(t=>{const r=t.data.results[0];r&&(l.id=r.id)}).catch(t=>{console.error(t)});const n=()=>{console.log(l),l.password!==l.password_confirmation?l.formErrors.password_confirmation=!0:y.changeProfilePasswordUser(l).then(t=>{l.formErrors.password_current=!1,l.formErrors.password=!1,l.formErrors.password_confirmation=!1,i.value={show:!0,text:"Modifié  avec succès",color:"success"}}).catch(t=>{t.response.data.password_current?(l.formErrors.password_current=!0,i.value={show:!0,text:t.response.data.password_current,color:"danger"}):l.formErrors.password_current=!1,t.response.data.password?(l.formErrors.password=!0,i.value={show:!0,text:t.response.data.password,color:"danger"}):l.formErrors.password=!1,console.log(t)})};return(t,r)=>(E(),A(x,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Change Password"},{default:a(()=>[e(D,{onSubmit:S(n,["prevent"])},{default:a(()=>[e(b,null,{default:a(()=>[e(x,{class:"mb-3"},{default:a(()=>[e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:s(l).password_current,"onUpdate:modelValue":r[0]||(r[0]=u=>s(l).password_current=u),type:s(d)?"text":"password","append-inner-icon":s(d)?"mdi-eye-off-outline":"mdi-eye-outline",label:"Mot de passe actuel","onClick:appendInner":r[1]||(r[1]=u=>d.value=!s(d)),error:s(l).formErrors.password_current},null,8,["modelValue","type","append-inner-icon","error"])]),_:1})]),_:1}),e(x,null,{default:a(()=>[e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:s(l).password,"onUpdate:modelValue":r[2]||(r[2]=u=>s(l).password=u),type:s(o)?"text":"password","append-inner-icon":s(o)?"mdi-eye-off-outline":"mdi-eye-outline",label:"Nouveau mot de passe","onClick:appendInner":r[3]||(r[3]=u=>o.value=!s(o)),error:s(l).formErrors.password},null,8,["modelValue","type","append-inner-icon","error"])]),_:1}),e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:s(l).password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=u=>s(l).password_confirmation=u),type:s(w)?"text":"password","append-inner-icon":s(w)?"mdi-eye-off-outline":"mdi-eye-outline",label:"Confirmer","onClick:appendInner":r[5]||(r[5]=u=>w.value=!s(w)),error:s(l).formErrors.password_confirmation},null,8,["modelValue","type","append-inner-icon","error"])]),_:1})]),_:1})]),_:1}),e(b,null,{default:a(()=>[O,m("ul",Z,[(E(),U(G,null,j(g,u=>m("li",{key:u,class:"d-flex"},[m("div",null,[e(V,{size:"7",icon:"mdi-circle",class:"me-3"})]),m("span",H,h(u),1)])),64))])]),_:1}),e(b,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(F,{modelValue:s(i).show,"onUpdate:modelValue":r[7]||(r[7]=u=>s(i).show=u),timeout:3e3,color:s(i).color,top:"top"},{action:a(({attrs:u})=>[e(p,R({text:""},u,{onClick:r[6]||(r[6]=ie=>s(i).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(s(i).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),X={class:"d-flex flex-column justify-center gap-5"},Y={class:"d-flex flex-wrap gap-2"},ee=m("span",{class:"d-none d-sm-block"},"Ajouter une nouvelle photo",-1),oe=m("span",{class:"d-none d-sm-block"},"Reset",-1),te=m("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),ae=k({__name:"AccountSettingsAccountT",setup(P){const d=f({show:!1,text:"",color:""}),o=$({username:"",email:"",profile_image:"",avatar1:N,formErrors:{username:!1,email:!1}}),w=f(),g=f(o);f(!1);const i=n=>{const t=new FileReader,{files:r}=n.target;r&&r.length&&(t.readAsDataURL(r[0]),t.onload=()=>{typeof t.result=="string"&&(g.value.profile_image=r[0]),g.value.avatar1=t.result})};y.getProfile().then(n=>{const t=n.data.results[0];t&&(o.id=t.id,o.username=t.username,o.email=t.email,o.avatar1=t.profile_image)}).catch(n=>{console.error(n)});const l=()=>{console.log(o),y.updateUserProfile(o).then(n=>{o.formErrors.email=!1,o.formErrors.username=!1,d.value={show:!0,text:"Modifié  avec succès",color:"success"},L().fetchAllProfile()}).catch(n=>{n.response.data.username?(o.formErrors.username=!0,d.value={show:!0,text:n.response.data.username,color:"danger"}):o.formErrors.username=!1,n.response.data.email?(o.formErrors.email=!0,d.value={show:!0,text:n.response.data.email,color:"danger"}):o.formErrors.email=!1,console.log(n)})};return(n,t)=>(E(),A(x,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Details de compte"},{default:a(()=>[e(b,{class:"d-flex"},{default:a(()=>[e(z,{rounded:"lg",size:"100",class:"me-6",image:s(o).avatar1},null,8,["image"]),m("form",X,[m("div",Y,[e(p,{color:"primary",onClick:t[0]||(t[0]=r=>{var u;return(u=s(w))==null?void 0:u.click()})},{default:a(()=>[e(V,{icon:"mdi-cloud-upload-outline",class:"d-sm-none"}),ee]),_:1}),m("input",{ref_key:"refInputEl",ref:w,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:i},null,544),e(p,{type:"reset",color:"error",variant:"tonal"},{default:a(()=>[oe,e(V,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1})]),te])]),_:1}),e(M),e(b,null,{default:a(()=>[e(D,{class:"mt-6",onSubmit:S(l,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[e(x,null,{default:a(()=>[e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{type:"email",modelValue:s(o).email,"onUpdate:modelValue":t[1]||(t[1]=r=>s(o).email=r),label:"Email"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:s(o).username,"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).username=r),label:"Username"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{color:"secondary",variant:"tonal",type:"reset"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(F,{modelValue:s(d).show,"onUpdate:modelValue":t[4]||(t[4]=r=>s(d).show=r),timeout:3e3,color:s(d).color,top:"top"},{action:a(({attrs:r})=>[e(p,R({text:""},r,{onClick:t[3]||(t[3]=u=>s(d).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(s(d).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),se={class:"d-flex flex-column justify-center gap-5"},re={class:"d-flex flex-wrap gap-2"},le=m("span",{class:"d-none d-sm-block"},"Logo entreprise",-1),ne=m("span",{class:"d-none d-sm-block"},"Reset",-1),de=m("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),ue=k({__name:"AccountSettingsAccountTParam",setup(P){const d=f({show:!1,text:"",color:""}),o=$({database:"",email:"",username:"",contact:"",address:"",picture:"",method_pay:"",prime_transport:"",avatar1:N,formErrors:{contact:!1,address:!1,picture:!1,method_pay:!1,prime_transport:!1}});y.getParameter().then(n=>{const t=n.data.results[0];t&&(o.id=t.id,o.username=t.username,o.address=t.address,o.contact=t.contact,o.database=t.database,o.email=t.email,o.method_pay=t.method_pay,o.prime_transport=t.prime_transport,o.avatar1=t.picture),console.log(n)}).catch(n=>{console.error(n)});const w=f(),g=f(o);f(!1);const i=n=>{const t=new FileReader,{files:r}=n.target;r&&r.length&&(t.readAsDataURL(r[0]),t.onload=()=>{typeof t.result=="string"&&(g.value.picture=r[0]),g.value.avatar1=t.result})},l=()=>{console.log(o),y.updateParameter(o).then(n=>{o.formErrors.address=!1,o.formErrors.contact=!1,o.formErrors.picture=!1,d.value={show:!0,text:"Enregistré  avec succès",color:"success"}}).catch(n=>{n.response.data.address?(o.formErrors.address=!0,d.value={show:!0,text:n.response.data.address,color:"danger"}):o.formErrors.address=!1,n.response.data.picture?(o.formErrors.picture=!0,d.value={show:!0,text:n.response.data.picture,color:"danger"}):o.formErrors.picture=!1,n.response.data.contact?(o.formErrors.contact=!0,d.value={show:!0,text:n.response.data.picture,color:"danger"}):o.formErrors.contact=!1,console.log(n)})};return(n,t)=>(E(),A(x,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Paramètre"},{default:a(()=>[e(b,{class:"d-flex"},{default:a(()=>[e(z,{rounded:"lg",size:"100",class:"me-6",image:s(o).avatar1},null,8,["image"]),m("form",se,[m("div",re,[e(p,{color:"primary",onClick:t[0]||(t[0]=r=>{var u;return(u=s(w))==null?void 0:u.click()})},{default:a(()=>[e(V,{icon:"mdi-cloud-upload-outline",class:"d-sm-none"}),le]),_:1}),m("input",{ref_key:"refInputEl",ref:w,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:i},null,544),e(p,{type:"reset",color:"error",variant:"tonal",error:s(o).formErrors.picture},{default:a(()=>[ne,e(V,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1},8,["error"])]),de])]),_:1}),e(M),e(b,null,{default:a(()=>[e(D,{class:"mt-6",onSubmit:S(l,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[e(x,null,{default:a(()=>[e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{type:"text",modelValue:s(o).address,"onUpdate:modelValue":t[1]||(t[1]=r=>s(o).address=r),label:"Adresse"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:s(o).contact,"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).contact=r),label:"Contact"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:s(o).prime_transport,"onUpdate:modelValue":t[3]||(t[3]=r=>s(o).prime_transport=r),label:"Prime de transport par jour",error:s(o).formErrors.prime_transport},null,8,["modelValue","error"])]),_:1}),e(c,{cols:"12",md:"6"},{default:a(()=>[e(W,{type:"number",modelValue:s(o).method_pay,"onUpdate:modelValue":t[4]||(t[4]=r=>s(o).method_pay=r),label:"Methode depayement des salaires",items:["Espèce","Virement"],error:s(o).formErrors.method_pay},null,8,["modelValue","error"])]),_:1}),e(c,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{color:"secondary",variant:"tonal",type:"reset"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(F,{modelValue:s(d).show,"onUpdate:modelValue":t[6]||(t[6]=r=>s(d).show=r),timeout:3e3,color:s(d).color,top:"top"},{action:a(({attrs:r})=>[e(p,R({text:""},r,{onClick:t[5]||(t[5]=u=>s(d).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(s(d).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),Se=k({__name:"account-settings",setup(P){const d=B(),o=f(d.params.tab),w=[{title:"Compte",icon:"mdi-account-outline",tab:"account"},{title:"Securité",icon:"mdi-lock-open-outline",tab:"security"},{title:"Paramètre",icon:"mdi-cog-outline",tab:"parametre"}];return(g,i)=>(E(),U("div",null,[e(q,{modelValue:s(o),"onUpdate:modelValue":i[0]||(i[0]=l=>T(o)?o.value=l:null),"show-arrows":""},{default:a(()=>[(E(),U(G,null,j(w,l=>e(K,{key:l.icon,value:l.tab},{default:a(()=>[e(V,{size:"20",start:"",icon:l.icon},null,8,["icon"]),_(" "+h(l.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(M),e(J,{modelValue:s(o),"onUpdate:modelValue":i[1]||(i[1]=l=>T(o)?o.value=l:null),class:"mt-5 disable-tab-transition"},{default:a(()=>[e(C,{value:"account"},{default:a(()=>[e(ae)]),_:1}),e(C,{value:"security"},{default:a(()=>[e(Q)]),_:1}),e(C,{value:"parametre"},{default:a(()=>[e(ue)]),_:1})]),_:1},8,["modelValue"])]))}});export{Se as default};
