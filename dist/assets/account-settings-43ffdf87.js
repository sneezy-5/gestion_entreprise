import{d as k,r as f,O as $,o as x,c as A,e as a,k as e,bQ as R,i as r,f as m,m as C,bc as G,Y as M,bS as p,p as _,N as S,V,t as h,a as L,aL as T}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{u as E}from"./user.service-1e743d10.js";import{a as I,V as b}from"./VCard-9f617b6a.js";import{V as D}from"./VCounter-f481b6e6.js";import{V as y,a as c}from"./VRow-b4fd1837.js";import{V as v}from"./VTextField-6bab4857.js";import{V as F}from"./VSnackbar-48185565.js";import{a as j}from"./avatar-1-4acd3e19.js";import{V as z}from"./VAvatar-d640487b.js";import{V as N}from"./ssrBoot-b02e1060.js";import{V as B}from"./VSelect-d3819a80.js";import{V as q,a as U,b as J,c as K}from"./VWindowItem-9d5af00c.js";import"./VImg-17513cc0.js";import"./forwardRefs-a29b5f65.js";import"./index-1a500ab3.js";import"./easing-9f15041e.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./VMenu-0d5d1b04.js";import"./dialog-transition-f581d50d.js";import"./VCheckboxBtn-ebf12b5d.js";const W=m("p",{class:"text-base font-weight-medium mt-2"}," Password Requirements: ",-1),O={class:"d-flex flex-column gap-y-3"},Q={class:"font-weight-medium"},Y=k({__name:"AccountSettingsSecurityT",setup(P){const d=f(!1),o=f(!1),w=f(!1),g=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"],i=f({show:!1,text:"",color:""}),l=$({password_current:"",password:"",password_confirmation:"",profile_image:"",formErrors:{password_current:!1,password:!1,password_confirmation:!1}});E.getProfile().then(t=>{const s=t.data.results[0];s&&(l.id=s.id)}).catch(t=>{console.error(t)});const n=()=>{console.log(l),l.password!==l.password_confirmation?l.formErrors.password_confirmation=!0:E.changeProfilePasswordUser(l).then(t=>{l.formErrors.password_current=!1,l.formErrors.password=!1,l.formErrors.password_confirmation=!1,i.value={show:!0,text:"Modifié  avec succès",color:"success"}}).catch(t=>{t.response.data.password_current?(l.formErrors.password_current=!0,i.value={show:!0,text:t.response.data.password_current,color:"danger"}):l.formErrors.password_current=!1,t.response.data.password?(l.formErrors.password=!0,i.value={show:!0,text:t.response.data.password,color:"danger"}):l.formErrors.password=!1,console.log(t)})};return(t,s)=>(x(),A(y,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Change Password"},{default:a(()=>[e(D,{onSubmit:R(n,["prevent"])},{default:a(()=>[e(b,null,{default:a(()=>[e(y,{class:"mb-3"},{default:a(()=>[e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:r(l).password_current,"onUpdate:modelValue":s[0]||(s[0]=u=>r(l).password_current=u),type:r(d)?"text":"password","append-inner-icon":r(d)?"mdi-eye-off-outline":"mdi-eye-outline",label:"Current Password","onClick:appendInner":s[1]||(s[1]=u=>d.value=!r(d)),error:r(l).formErrors.password_current},null,8,["modelValue","type","append-inner-icon","error"])]),_:1})]),_:1}),e(y,null,{default:a(()=>[e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:r(l).password,"onUpdate:modelValue":s[2]||(s[2]=u=>r(l).password=u),type:r(o)?"text":"password","append-inner-icon":r(o)?"mdi-eye-off-outline":"mdi-eye-outline",label:"New Password","onClick:appendInner":s[3]||(s[3]=u=>o.value=!r(o)),error:r(l).formErrors.password},null,8,["modelValue","type","append-inner-icon","error"])]),_:1}),e(c,{cols:"12",md:"6"},{default:a(()=>[e(v,{modelValue:r(l).password_confirmation,"onUpdate:modelValue":s[4]||(s[4]=u=>r(l).password_confirmation=u),type:r(w)?"text":"password","append-inner-icon":r(w)?"mdi-eye-off-outline":"mdi-eye-outline",label:"Confirm New Password","onClick:appendInner":s[5]||(s[5]=u=>w.value=!r(w)),error:r(l).formErrors.password_confirmation},null,8,["modelValue","type","append-inner-icon","error"])]),_:1})]),_:1})]),_:1}),e(b,null,{default:a(()=>[W,m("ul",O,[(x(),C(M,null,G(g,u=>m("li",{key:u,class:"d-flex"},[m("div",null,[e(V,{size:"7",icon:"mdi-circle",class:"me-3"})]),m("span",Q,h(u),1)])),64))])]),_:1}),e(b,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(F,{modelValue:r(i).show,"onUpdate:modelValue":s[7]||(s[7]=u=>r(i).show=u),timeout:3e3,color:r(i).color,top:"top"},{action:a(({attrs:u})=>[e(p,S({text:""},u,{onClick:s[6]||(s[6]=ue=>r(i).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(r(i).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),H={class:"d-flex flex-column justify-center gap-5"},X={class:"d-flex flex-wrap gap-2"},Z=m("span",{class:"d-none d-sm-block"},"Upload new photo",-1),ee=m("span",{class:"d-none d-sm-block"},"Reset",-1),oe=m("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),te=k({__name:"AccountSettingsAccountT",setup(P){const d=f({show:!1,text:"",color:""}),o=$({username:"",email:"",profile_image:"",avatar1:j,formErrors:{username:!1,email:!1}});E.getProfile().then(n=>{const t=n.data.results[0];t&&(o.id=t.id,o.username=t.username,o.email=t.email,o.profile_image=t.profile_image)}).catch(n=>{console.error(n)});const w=f(),g=f(o);f(!1);const i=n=>{const t=new FileReader,{files:s}=n.target;s&&s.length&&(t.readAsDataURL(s[0]),t.onload=()=>{typeof t.result=="string"&&(g.value.profile_image=s[0]),g.value.avatar1=t.result})},l=()=>{console.log(o),E.updateUserProfile(o).then(n=>{o.formErrors.email=!1,o.formErrors.username=!1,d.value={show:!0,text:"Modifié  avec succès",color:"success"}}).catch(n=>{n.response.data.username?(o.formErrors.username=!0,d.value={show:!0,text:n.response.data.username,color:"danger"}):o.formErrors.username=!1,n.response.data.email?(o.formErrors.email=!0,d.value={show:!0,text:n.response.data.email,color:"danger"}):o.formErrors.email=!1,console.log(n)})};return(n,t)=>(x(),A(y,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Account Details"},{default:a(()=>[e(b,{class:"d-flex"},{default:a(()=>[e(z,{rounded:"lg",size:"100",class:"me-6",image:r(o).avatar1},null,8,["image"]),m("form",H,[m("div",X,[e(p,{color:"primary",onClick:t[0]||(t[0]=s=>{var u;return(u=r(w))==null?void 0:u.click()})},{default:a(()=>[e(V,{icon:"mdi-cloud-upload-outline",class:"d-sm-none"}),Z]),_:1}),m("input",{ref_key:"refInputEl",ref:w,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:i},null,544),e(p,{type:"reset",color:"error",variant:"tonal"},{default:a(()=>[ee,e(V,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1})]),oe])]),_:1}),e(N),e(b,null,{default:a(()=>[e(D,{class:"mt-6",onSubmit:R(l,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[e(y,null,{default:a(()=>[e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{type:"email",modelValue:r(o).email,"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).email=s),label:"Email"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:r(o).username,"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).username=s),label:"Username"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{color:"secondary",variant:"tonal",type:"reset"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(F,{modelValue:r(d).show,"onUpdate:modelValue":t[4]||(t[4]=s=>r(d).show=s),timeout:3e3,color:r(d).color,top:"top"},{action:a(({attrs:s})=>[e(p,S({text:""},s,{onClick:t[3]||(t[3]=u=>r(d).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(r(d).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),ae={class:"d-flex flex-column justify-center gap-5"},re={class:"d-flex flex-wrap gap-2"},se=m("span",{class:"d-none d-sm-block"},"votre de votre entreprise",-1),le=m("span",{class:"d-none d-sm-block"},"Reset",-1),ne=m("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),de=k({__name:"AccountSettingsAccountTParam",setup(P){const d=f({show:!1,text:"",color:""}),o=$({database:"",email:"",username:"",contact:"",address:"",picture:"",method_pay:"",prime_transport:"",avatar1:j,formErrors:{contact:!1,address:!1,picture:!1,method_pay:!1,prime_transport:!1}});E.getParameter().then(n=>{const t=n.data.results[0];t&&(o.id=t.id,o.username=t.username,o.address=t.address,o.contact=t.contact,o.database=t.database,o.email=t.email,o.picture=t.picture,o.method_pay=t.method_pay,o.prime_transport=t.prime_transport),console.log(n)}).catch(n=>{console.error(n)});const w=f(),g=f(o);f(!1);const i=n=>{const t=new FileReader,{files:s}=n.target;s&&s.length&&(t.readAsDataURL(s[0]),t.onload=()=>{typeof t.result=="string"&&(g.value.picture=s[0]),g.value.avatar1=t.result})},l=()=>{console.log(o),E.updateParameter(o).then(n=>{o.formErrors.address=!1,o.formErrors.contact=!1,o.formErrors.picture=!1,d.value={show:!0,text:"Enregistré  avec succès",color:"success"}}).catch(n=>{n.response.data.address?(o.formErrors.address=!0,d.value={show:!0,text:n.response.data.address,color:"danger"}):o.formErrors.address=!1,n.response.data.picture?(o.formErrors.picture=!0,d.value={show:!0,text:n.response.data.picture,color:"danger"}):o.formErrors.picture=!1,n.response.data.contact?(o.formErrors.contact=!0,d.value={show:!0,text:n.response.data.picture,color:"danger"}):o.formErrors.contact=!1,console.log(n)})};return(n,t)=>(x(),A(y,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[e(I,{title:"Paramètre"},{default:a(()=>[e(b,{class:"d-flex"},{default:a(()=>[e(z,{rounded:"lg",size:"100",class:"me-6",image:r(o).avatar1},null,8,["image"]),m("form",ae,[m("div",re,[e(p,{color:"primary",onClick:t[0]||(t[0]=s=>{var u;return(u=r(w))==null?void 0:u.click()})},{default:a(()=>[e(V,{icon:"mdi-cloud-upload-outline",class:"d-sm-none"}),se]),_:1}),m("input",{ref_key:"refInputEl",ref:w,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:i},null,544),e(p,{type:"reset",color:"error",variant:"tonal",error:r(o).formErrors.picture},{default:a(()=>[le,e(V,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1},8,["error"])]),ne])]),_:1}),e(N),e(b,null,{default:a(()=>[e(D,{class:"mt-6",onSubmit:R(l,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[e(y,null,{default:a(()=>[e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{type:"text",modelValue:r(o).address,"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).address=s),label:"Adresse"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:r(o).contact,"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).contact=s),label:"Contact"},null,8,["modelValue"])]),_:1}),e(c,{md:"6",cols:"12"},{default:a(()=>[e(v,{modelValue:r(o).prime_transport,"onUpdate:modelValue":t[3]||(t[3]=s=>r(o).prime_transport=s),label:"Prime de transport",error:r(o).formErrors.prime_transport},null,8,["modelValue","error"])]),_:1}),e(c,{cols:"12",md:"6"},{default:a(()=>[e(B,{type:"number",modelValue:r(o).method_pay,"onUpdate:modelValue":t[4]||(t[4]=s=>r(o).method_pay=s),label:"Methode depayement des salaires",items:["Espèce","Virement"],error:r(o).formErrors.method_pay},null,8,["modelValue","error"])]),_:1}),e(c,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(p,{type:"submit"},{default:a(()=>[_("Enregistrer")]),_:1}),e(p,{color:"secondary",variant:"tonal",type:"reset"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),e(F,{modelValue:r(d).show,"onUpdate:modelValue":t[6]||(t[6]=s=>r(d).show=s),timeout:3e3,color:r(d).color,top:"top"},{action:a(({attrs:s})=>[e(p,S({text:""},s,{onClick:t[5]||(t[5]=u=>r(d).show=!1)}),{default:a(()=>[e(V,null,{default:a(()=>[_("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[_(h(r(d).text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}}),Se=k({__name:"account-settings",setup(P){const d=L(),o=f(d.params.tab),w=[{title:"Account",icon:"mdi-account-outline",tab:"account"},{title:"Security",icon:"mdi-lock-open-outline",tab:"security"},{title:"Parametre",icon:"mdi-cog-outline",tab:"parametre"}];return(g,i)=>(x(),C("div",null,[e(q,{modelValue:r(o),"onUpdate:modelValue":i[0]||(i[0]=l=>T(o)?o.value=l:null),"show-arrows":""},{default:a(()=>[(x(),C(M,null,G(w,l=>e(K,{key:l.icon,value:l.tab},{default:a(()=>[e(V,{size:"20",start:"",icon:l.icon},null,8,["icon"]),_(" "+h(l.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(N),e(J,{modelValue:r(o),"onUpdate:modelValue":i[1]||(i[1]=l=>T(o)?o.value=l:null),class:"mt-5 disable-tab-transition"},{default:a(()=>[e(U,{value:"account"},{default:a(()=>[e(te)]),_:1}),e(U,{value:"security"},{default:a(()=>[e(Y)]),_:1}),e(U,{value:"parametre"},{default:a(()=>[e(de)]),_:1})]),_:1},8,["modelValue"])]))}});export{Se as default};
