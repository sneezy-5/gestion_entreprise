import"./caller.service-afc094da.js";import{a as y}from"./avence.service-4ab4d22b.js";import{d as A,r as x,O as M,l as N,o as _,m as v,k as t,e as o,p,bS as V,i as m,aL as C,f as e,Y as D,bc as $,t as i,V as b,R as P,S as q,P as L,c as U}from"./index-54e10577.js";import{a as S,b as j,V as F,e as O}from"./VCard-9f617b6a.js";import{V as Y}from"./VDialog-d6bbd018.js";import{V as z,a as G}from"./VPagination-c4475e8a.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{a as J,V as K}from"./VRow-b4fd1837.js";import"./VAvatar-d640487b.js";import"./VImg-17513cc0.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-f581d50d.js";const Q=u=>(P("data-v-6f190a29"),u=u(),q(),u),W={class:"flex-end"},X=Q(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"}," Employe "),e("th",{class:"text-uppercase text-center"}," Date de la demande "),e("th",{class:"text-uppercase text-center"}," Montant demandé "),e("th",{class:"text-uppercase text-center"}," Remis le "),e("th",{class:"text-uppercase text-center"}," Methode de payement "),e("th",{class:"text-uppercase text-center"}," Date de remboursement "),e("th",{class:"text-uppercase text-center"}," Action ")])],-1)),Z={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},se={class:"text-center"},ae={class:"text-center"},oe={class:"text-center"},le=["onClick"],ne=["onClick"],ce={class:"text-xs-center"},k=5,re=A({__name:"DemoSimpleTableDensityAvance",setup(u){let f=x(0);const n=M([]),c=x(!1),R=s=>{f.value=s,c.value=!0},T=()=>{c.value=!1};let w=s=>{L.push({name:"edit-avance",params:{id:s}})},r=x(1);const h=()=>{console.log(r);const s=(r.value-1)*k,d=`limit=${k}&offset=${s}`;y.getAllAvance(d).then(a=>{const l=a.data.results;n.pop(),n.push(a.data),console.log(n[0].results,l)}).catch(a=>{(a.status="401")&&console.error(a)})},B=()=>{y.deleteAvance(f.value).then(s=>{h()}).catch(s=>{(s.status="401")&&console.error(s)}),c.value=!1};h();const I=N(()=>{var s;return Math.ceil(((s=n[0])==null?void 0:s.count)/5)});return(s,d)=>(_(),v(D,null,[t(Y,{modelValue:m(c),"onUpdate:modelValue":d[0]||(d[0]=a=>C(c)?c.value=a:null),"max-width":"500px"},{default:o(()=>[t(S,null,{default:o(()=>[t(j,{class:"headline"},{default:o(()=>[p("Confirmation de suppression")]),_:1}),t(F,null,{default:o(()=>[p(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),t(O,null,{default:o(()=>[t(V,{onClick:B,style:{color:"red"}},{default:o(()=>[p("Confimer")]),_:1}),t(V,{onClick:T},{default:o(()=>[p("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",W,[t(V,{to:"/create-avance"},{default:o(()=>[p("Ajouter")]),_:1})]),t(z,{density:"compact"},{default:o(()=>{var a;return[X,e("tbody",null,[(_(!0),v(D,null,$((a=m(n)[0])==null?void 0:a.results,l=>{var g;return _(),v("tr",{key:l.id},[e("td",null,i((g=l.employee)==null?void 0:g.firstName),1),e("td",Z,i(l.RequestDate),1),e("td",ee,i(l.amountRequested),1),e("td",te,i(l.paymentDate),1),e("td",se,i(l.paymentMethod),1),e("td",ae,i(l.ReimbursmentDate),1),e("td",oe,[e("button",{onClick:E=>m(w)(l.id)},[t(b,{icon:"mdi-edit"})],8,le),e("button",{onClick:E=>R(l.id)},[t(b,{icon:"mdi-trash",style:{color:"red"}})],8,ne)])])}),128))])]}),_:1}),e("div",ce,[t(G,{modelValue:m(r),"onUpdate:modelValue":d[1]||(d[1]=a=>C(r)?r.value=a:r=a),length:m(I),circle:"",onClick:h},null,8,["modelValue","length"])])],64))}});const de=H(re,[["__scopeId","data-v-6f190a29"]]),ke=A({__name:"avances",setup(u){return(f,n)=>(_(),U(K,null,{default:o(()=>[t(J,{cols:"12"},{default:o(()=>[t(S,{title:"Avance sur salaire"},{default:o(()=>[t(de)]),_:1})]),_:1})]),_:1}))}});export{ke as default};
