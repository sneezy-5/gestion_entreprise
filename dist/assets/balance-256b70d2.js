import{bU as I,d as D,ba as h,r as g,l as $,o as p,m as V,f as s,k as t,e as l,p as b,V as y,bV as x,i as r,bS as k,Z as S,be as T,aM as F,t as _,S as U,T as M,c as N}from"./index-548d44d1.js";import{V as w,a as m}from"./VRow-4f92fdd1.js";import{V as v}from"./VTextField-f85f9694.js";import{V as R}from"./VCounter-3543cf5b.js";import{V as A,a as O}from"./VPagination-1ebcc86a.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{a as L}from"./VCard-fc59d69e.js";import"./VImg-a20b01d5.js";import"./forwardRefs-a29b5f65.js";import"./index-d9ad5dd9.js";import"./easing-9f15041e.js";import"./VAvatar-2a93fb47.js";let Z=n=>I.get("/balance/?"+n);const j={getBalanceByfiter:Z},q=n=>(U("data-v-9eea664d"),n=n(),M(),n),z={class:"flex-start"},G={class:"flex-end"},H=q(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-uppercase text-center"}," Compte "),s("th",{class:"text-uppercase text-center"}," Debit "),s("th",{class:"text-uppercase text-center"}," CrÃ©dit "),s("th",{class:"text-uppercase text-center"}," solde ")])],-1)),J={class:"text-center"},K={class:"text-center"},Q={class:"text-center"},W={class:"text-center"},X={class:"text-xs-center"},B=5,Y=D({__name:"DemoSimpleTableDensityBalance",setup(n){const e=h({start_date:new Date().toISOString().substr(0,10),end_date:new Date().toISOString().substr(0,10),account:null,formErrors:{start_date:!1,end_date:!1,account:!1}});g(0);const i=h([]);let d=g(1);const f=()=>{console.log(d),(d.value-1)*B;const c=`limit=${B}&page=${d.value}&start_date=${e.start_date}&end_date=${e.end_date}&account=${e.account}`;j.getBalanceByfiter(c).then(a=>{const o=a.data;e.formErrors.start_date=!1,e.formErrors.end_date=!1,e.formErrors.account=!1,i.pop(),i.push(a.data),console.log(i,o)}).catch(a=>{(a.status=401)&&(a.response.data.message?e.formErrors.account=!0:e.formErrors.account=!1)})},E=()=>{const c=`/src/assets/balance.html?start_date=${e.start_date}&end_date=${e.end_date}`;window.open(c)};f();const C=$(()=>{var c;return Math.ceil(((c=i[0])==null?void 0:c.count)/5)});return(c,a)=>(p(),V(S,null,[s("div",z,[t(x,{onClick:a[0]||(a[0]=o=>E()),color:"success"},{default:l(()=>[b("Imprimer "),t(y,{icon:"mdi-cloud-download"}),t(y,{icon:"mdi-pdf"})]),_:1})]),s("div",G,[t(R,{onSubmit:k(f,["prevent"])},{default:l(()=>[t(w,null,{default:l(()=>[t(m,{cols:"12",md:"6"},{default:l(()=>[t(v,{type:"date",modelValue:r(e).start_date,"onUpdate:modelValue":a[1]||(a[1]=o=>r(e).start_date=o),label:"Debut",placeholder:"Debut",error:r(e).formErrors.start_date},null,8,["modelValue","error"])]),_:1}),t(m,{cols:"12",md:"6"},{default:l(()=>[t(v,{type:"date",modelValue:r(e).end_date,"onUpdate:modelValue":a[2]||(a[2]=o=>r(e).end_date=o),label:"Fin",placeholder:"Fin",error:r(e).formErrors.end_date},null,8,["modelValue","error"])]),_:1}),t(m,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[t(x,{type:"submit"},{default:l(()=>[b(" Filtrer ")]),_:1}),t(x,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[b(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),t(A,{density:"compact"},{default:l(()=>{var o;return[H,s("tbody",null,[(p(!0),V(S,null,T((o=r(i)[0])==null?void 0:o.data,u=>(p(),V("tr",{key:u.id},[s("td",J,_(u.account),1),s("td",K,_(u.debits),1),s("td",Q,_(u.credits),1),s("td",W,_(u.balance),1)]))),128))])]}),_:1}),s("div",X,[t(O,{modelValue:r(d),"onUpdate:modelValue":a[3]||(a[3]=o=>F(d)?d.value=o:d=o),length:r(C),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const ee=P(Y,[["__scopeId","data-v-9eea664d"]]),pe=D({__name:"balance",setup(n){return(e,i)=>(p(),N(w,null,{default:l(()=>[t(m,{cols:"12"},{default:l(()=>[t(L,{title:"Balance"},{default:l(()=>[t(ee)]),_:1})]),_:1})]),_:1}))}});export{pe as default};
