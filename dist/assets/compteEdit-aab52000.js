import{d as i,cj as v,r as g,ba as w,d8 as p,o as b,c as h,e as r,k as o,i as t,bV as d,N as y,V as C,p as u,t as k,bS as S,m as N}from"./index-bfa2d538.js";import{a as m,V}from"./VRow-18416828.js";import{V as c}from"./VTextField-62f011eb.js";import{V as B}from"./VSnackbar-7c821870.js";import{V as M}from"./VCounter-9deabfc9.js";import{a as R,V as U}from"./VCard-7877ac97.js";import"./VImg-d7e6df3b.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-b657f991.js";import"./lazy-98d5b0cb.js";import"./easing-9f15041e.js";import"./index-c03b3b8a.js";import"./VAvatar-b5327750.js";const F=i({__name:"DemoFormLayoutCompteEdit",setup(_){const f=v().currentRoute.value.params.id,s=g({show:!1,text:"",color:""}),e=w({name:null,number:null,balance:null,formErrors:{name:!1,balance:!1,number:!1}});p.getCompte(f).then(a=>{e.id=a.data.id,e.name=a.data.name,e.balance=a.data.balance,e.number=a.data.number,e.formErrors.number=!1,console.log(a)}).catch(a=>{a.status==401&&console.error(a)});const x=()=>{console.log(e),p.updateCompte(e).then(a=>{e.formErrors.name=!1,e.formErrors.balance=!1,s.value={show:!0,text:"Modifié avec succès",color:"success"}}).catch(a=>{a.response.data.name?(e.formErrors.name=!0,s.value={show:!0,text:a.response.data.name,color:"danger"}):e.formErrors.balance=!1,a.response.data.balance?(e.formErrors.balance=!0,s.value={show:!0,text:a.response.data.balance,color:"danger"}):e.formErrors.balance=!1,a.response.data.number?(e.formErrors.number=!0,s.value={show:!0,text:a.response.data.number,color:"danger"}):e.formErrors.balance=!1,console.log(a)})};return(a,l)=>(b(),h(M,{onSubmit:S(x,["prevent"]),enctype:"multipart/form-data"},{default:r(()=>[o(V,null,{default:r(()=>[o(m,{cols:"12",md:"6"},{default:r(()=>[o(c,{type:"text",modelValue:t(e).name,"onUpdate:modelValue":l[0]||(l[0]=n=>t(e).name=n),label:"Libellé",placeholder:"Libellé",error:t(e).formErrors.name},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(c,{type:"number",modelValue:t(e).number,"onUpdate:modelValue":l[1]||(l[1]=n=>t(e).number=n),label:"Numéro",placeholder:"Numéro",error:t(e).formErrors.number},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:r(()=>[o(c,{type:"number",modelValue:t(e).balance,"onUpdate:modelValue":l[2]||(l[2]=n=>t(e).balance=n),label:"Montant",placeholder:"Montant",error:t(e).formErrors.balance},null,8,["modelValue","error"])]),_:1}),o(B,{modelValue:t(s).show,"onUpdate:modelValue":l[4]||(l[4]=n=>t(s).show=n),timeout:3e3,color:t(s).color,top:"top"},{action:r(({attrs:n})=>[o(d,y({text:""},n,{onClick:l[3]||(l[3]=L=>t(s).show=!1)}),{default:r(()=>[o(C,null,{default:r(()=>[u("mdi-close")]),_:1})]),_:2},1040)]),default:r(()=>[u(k(t(s).text)+" ",1)]),_:1},8,["modelValue","color"]),o(m,{cols:"12",class:"d-flex gap-4"},{default:r(()=>[o(d,{type:"submit"},{default:r(()=>[u(" Enregistré ")]),_:1}),o(d,{type:"reset",color:"secondary",variant:"tonal"},{default:r(()=>[u(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),O=i({__name:"compteEdit",setup(_){return(E,f)=>(b(),N("div",null,[o(V,null,{default:r(()=>[o(m,{cols:"12"},{default:r(()=>[o(R,{title:"Editer compte"},{default:r(()=>[o(U,null,{default:r(()=>[o(F)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{O as default};
