import"./caller.service-afc094da.js";import{c as x}from"./comptecompta.service-049e97fa.js";import{d as D,r as h,O as $,l as E,o as m,m as V,k as e,e as a,p as u,bS as C,i as p,aL as v,f as s,Y as g,bc as P,t as k,V as b,R,S as L,P as U,c as j}from"./index-54e10577.js";import{a as S,b as F,V as M,e as O}from"./VCard-9f617b6a.js";import{V as Y}from"./VDialog-d6bbd018.js";import{V as q,a as z}from"./VPagination-c4475e8a.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{a as H,V as J}from"./VRow-b4fd1837.js";import"./VAvatar-d640487b.js";import"./VImg-17513cc0.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-f581d50d.js";const K=d=>(R("data-v-d1ca4a66"),d=d(),L(),d),Q={class:"flex-end"},W=K(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-uppercase"}," Nom "),s("th",{class:"text-uppercase text-center"}," Balance "),s("th",{class:"text-uppercase text-center"}," Action ")])],-1)),X={class:"text-center"},Z={class:"text-center"},ee=["onClick"],te=["onClick"],oe={class:"text-xs-center"},y=5,se=D({__name:"DemoSimpleTableDensityCompte",setup(d){let _=h(0);const n=$([]),c=h(!1),T=t=>{_.value=t,c.value=!0},A=()=>{c.value=!1};let B=t=>{U.push({name:"edit-compte",params:{id:t}})},r=h(1);const f=()=>{console.log(r);const t=(r.value-1)*y,i=`limit=${y}&offset=${t}`;x.getAllComptes(i).then(o=>{const l=o.data.results;n.pop(),n.push(o.data),console.log(n[0].results,l)}).catch(o=>{(o.status="401")&&console.error(o)})},w=()=>{x.deleteCompte(_.value).then(t=>{f()}).catch(t=>{(t.status="401")&&console.error(t)}),c.value=!1};f();const I=E(()=>{var t;return Math.ceil(((t=n[0])==null?void 0:t.count)/5)});return(t,i)=>(m(),V(g,null,[e(Y,{modelValue:p(c),"onUpdate:modelValue":i[0]||(i[0]=o=>v(c)?c.value=o:null),"max-width":"500px"},{default:a(()=>[e(S,null,{default:a(()=>[e(F,{class:"headline"},{default:a(()=>[u("Confirmation de suppression")]),_:1}),e(M,null,{default:a(()=>[u(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),e(O,null,{default:a(()=>[e(C,{onClick:w,style:{color:"red"},color:"red"},{default:a(()=>[u("Confimer")]),_:1}),e(C,{onClick:A},{default:a(()=>[u("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",Q,[e(C,{to:"/create-compte"},{default:a(()=>[u("Ajouter")]),_:1})]),e(q,{density:"compact"},{default:a(()=>{var o;return[W,s("tbody",null,[(m(!0),V(g,null,P((o=p(n)[0])==null?void 0:o.results,l=>(m(),V("tr",{key:l.id},[s("td",null,k(l.name),1),s("td",X,k(l.balance),1),s("td",Z,[s("button",{onClick:N=>p(B)(l.id)},[e(b,{icon:"mdi-edit"})],8,ee),s("button",{onClick:N=>T(l.id)},[e(b,{icon:"mdi-trash",style:{color:"red"}})],8,te)])]))),128))])]}),_:1}),s("div",oe,[e(z,{modelValue:p(r),"onUpdate:modelValue":i[1]||(i[1]=o=>v(r)?r.value=o:r=o),length:p(I),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const ae=G(se,[["__scopeId","data-v-d1ca4a66"]]),ve=D({__name:"comptes",setup(d){return(_,n)=>(m(),j(J,null,{default:a(()=>[e(H,{cols:"12"},{default:a(()=>[e(S,{title:"Comptes"},{default:a(()=>[e(ae)]),_:1})]),_:1})]),_:1}))}});export{ve as default};
