import{d as D,r as h,ba as $,l as E,o as m,m as V,k as e,e as a,p as u,bV as C,i as p,aM as v,f as t,Z as b,be as L,d8 as g,t as x,V as k,S as M,T as P,Q as R,c as U}from"./index-548d44d1.js";import{a as S,b as j,V as F,e as Q}from"./VCard-fc59d69e.js";import{V as Z}from"./VDialog-76e8e84f.js";import{V as q,a as z}from"./VPagination-1ebcc86a.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{a as H,V as J}from"./VRow-4f92fdd1.js";import"./VAvatar-2a93fb47.js";import"./VImg-a20b01d5.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-ec6f11a2.js";const K=i=>(M("data-v-7e64e2bd"),i=i(),P(),i),O={class:"flex-end"},W=K(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Libellé "),t("th",{class:"text-uppercase"}," Numéro "),t("th",{class:"text-uppercase text-center"}," Balance "),t("th",{class:"text-uppercase text-center"}," Action ")])],-1)),X={class:"text-center"},Y={class:"text-center"},ee=["onClick"],te=["onClick"],oe={class:"text-xs-center"},y=5,se=D({__name:"DemoSimpleTableDensityCompte",setup(i){let _=h(0);const n=$([]),c=h(!1),T=o=>{_.value=o,c.value=!0},A=()=>{c.value=!1};let B=o=>{R.push({name:"edit-compte",params:{id:o}})},r=h(1);const f=()=>{console.log(r);const o=(r.value-1)*y,d=`limit=${y}&offset=${o}`;g.getAllComptes(d).then(s=>{const l=s.data.results;n.pop(),n.push(s.data),console.log(n[0].results,l)}).catch(s=>{(s.status="401")&&console.error(s)})},w=()=>{g.deleteCompte(_.value).then(o=>{f()}).catch(o=>{(o.status="401")&&console.error(o)}),c.value=!1};f();const I=E(()=>{var o;return Math.ceil(((o=n[0])==null?void 0:o.count)/5)});return(o,d)=>(m(),V(b,null,[e(Z,{modelValue:p(c),"onUpdate:modelValue":d[0]||(d[0]=s=>v(c)?c.value=s:null),"max-width":"500px"},{default:a(()=>[e(S,null,{default:a(()=>[e(j,{class:"headline"},{default:a(()=>[u("Confirmation de suppression")]),_:1}),e(F,null,{default:a(()=>[u(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),e(Q,null,{default:a(()=>[e(C,{onClick:w,style:{color:"red"},color:"red"},{default:a(()=>[u("Confimer")]),_:1}),e(C,{onClick:A},{default:a(()=>[u("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",O,[e(C,{to:"/create-compte"},{default:a(()=>[u("Ajouter")]),_:1})]),e(q,{density:"compact"},{default:a(()=>{var s;return[W,t("tbody",null,[(m(!0),V(b,null,L((s=p(n)[0])==null?void 0:s.results,l=>(m(),V("tr",{key:l.id},[t("td",null,x(l.name),1),t("td",null,x(l.number),1),t("td",X,x(l.balance),1),t("td",Y,[t("button",{onClick:N=>p(B)(l.id)},[e(k,{icon:"mdi-edit"})],8,ee),t("button",{onClick:N=>T(l.id)},[e(k,{icon:"mdi-trash",style:{color:"red"}})],8,te)])]))),128))])]}),_:1}),t("div",oe,[e(z,{modelValue:p(r),"onUpdate:modelValue":d[1]||(d[1]=s=>v(r)?r.value=s:r=s),length:p(I),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const ae=G(se,[["__scopeId","data-v-7e64e2bd"]]),Ce=D({__name:"comptes",setup(i){return(_,n)=>(m(),U(J,null,{default:a(()=>[e(H,{cols:"12"},{default:a(()=>[e(S,{title:"Comptes"},{default:a(()=>[e(ae)]),_:1})]),_:1})]),_:1}))}});export{Ce as default};
