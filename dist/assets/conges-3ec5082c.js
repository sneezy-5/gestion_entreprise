import{d as b,r as g,ba as E,l as $,o as m,m as x,k as t,e as a,p as d,bV as V,i as p,aM as C,f as e,Z as v,be as M,co as y,t as _,V as k,S as J,T as P,Q as R,c as U}from"./index-548d44d1.js";import{a as S,b as j,V as F,e as L}from"./VCard-fc59d69e.js";import{V as Q}from"./VDialog-76e8e84f.js";import{V as Z,a as q}from"./VPagination-1ebcc86a.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{a as G,V as H}from"./VRow-4f92fdd1.js";import"./VAvatar-2a93fb47.js";import"./VImg-a20b01d5.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-ec6f11a2.js";const K=u=>(J("data-v-a7316f83"),u=u(),P(),u),O={class:"flex-end"},W=K(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"}," Employe "),e("th",{class:"text-uppercase text-center"}," Montant "),e("th",{class:"text-uppercase text-center"}," Jour cumulé "),e("th",{class:"text-uppercase text-center"}," Jour pris "),e("th",{class:"text-uppercase text-center"}," Action ")])],-1)),X={class:"text-center"},Y={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},se=["onClick"],oe=["onClick"],ae={class:"text-xs-center"},D=5,le=b({__name:"DemoSimpleTableDensityConge",setup(u){let f=g(0);const n=E([]),c=g(!1),T=s=>{f.value=s,c.value=!0},A=()=>{c.value=!1};let w=s=>{R.push({name:"edit-conge",params:{id:s}})},r=g(1);const h=()=>{console.log(r);const s=(r.value-1)*D,i=`limit=${D}&offset=${s}`;y.getAllConges(i).then(o=>{const l=o.data.results;n.pop(),n.push(o.data),console.log(n[0].results,l)}).catch(o=>{(o.status="401")&&console.error(o)})},B=()=>{y.deleteConge(f.value).then(s=>{h()}).catch(s=>{(s.status="401")&&console.error(s)}),c.value=!1};h();const I=$(()=>{var s;return Math.ceil(((s=n[0])==null?void 0:s.count)/5)});return(s,i)=>(m(),x(v,null,[t(Q,{modelValue:p(c),"onUpdate:modelValue":i[0]||(i[0]=o=>C(c)?c.value=o:null),"max-width":"500px"},{default:a(()=>[t(S,null,{default:a(()=>[t(j,{class:"headline"},{default:a(()=>[d("Confirmation de suppression")]),_:1}),t(F,null,{default:a(()=>[d(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),t(L,null,{default:a(()=>[t(V,{onClick:B,style:{color:"red"}},{default:a(()=>[d("Confimer")]),_:1}),t(V,{onClick:A},{default:a(()=>[d("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",O,[t(V,{to:"/create-conge"},{default:a(()=>[d("Ajouter")]),_:1})]),t(Z,{density:"compact"},{default:a(()=>{var o;return[W,e("tbody",null,[(m(!0),x(v,null,M((o=p(n)[0])==null?void 0:o.results,l=>(m(),x("tr",{key:l.id},[e("td",null,_(l.user.employee.firstName)+" "+_(l.user.employee.lastName),1),e("td",X,_(l.montant),1),e("td",Y,_(l.cumulativeDay),1),e("td",ee,_(l.tekanDay),1),e("td",te,[e("button",{onClick:N=>p(w)(l.id)},[t(k,{icon:"mdi-edit"})],8,se),e("button",{onClick:N=>T(l.id)},[t(k,{icon:"mdi-trash",style:{color:"red"}})],8,oe)])]))),128))])]}),_:1}),e("div",ae,[t(q,{modelValue:p(r),"onUpdate:modelValue":i[1]||(i[1]=o=>C(r)?r.value=o:r=o),length:p(I),circle:"",onClick:h},null,8,["modelValue","length"])])],64))}});const ne=z(le,[["__scopeId","data-v-a7316f83"]]),Ce=b({__name:"conges",setup(u){return(f,n)=>(m(),U(H,null,{default:a(()=>[t(G,{cols:"12"},{default:a(()=>[t(S,{title:"Congés"},{default:a(()=>[t(ne)]),_:1})]),_:1})]),_:1}))}});export{Ce as default};
