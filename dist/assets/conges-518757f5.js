import"./caller.service-afc094da.js";import{c as v}from"./conges.service-6534682a.js";import{d as S,r as g,O as $,l as P,o as m,m as x,k as t,e as a,p as u,bS as V,i as p,aL as y,f as e,Y as b,bc as R,t as _,V as k,R as J,S as L,P as M,c as U}from"./index-54e10577.js";import{a as T,b as j,V as F,e as O}from"./VCard-9f617b6a.js";import{V as Y}from"./VDialog-d6bbd018.js";import{V as q,a as z}from"./VPagination-c4475e8a.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{a as H,V as K}from"./VRow-b4fd1837.js";import"./VAvatar-d640487b.js";import"./VImg-17513cc0.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-f581d50d.js";const Q=d=>(J("data-v-7f964b0d"),d=d(),L(),d),W={class:"flex-end"},X=Q(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"}," Employe "),e("th",{class:"text-uppercase text-center"}," Montant "),e("th",{class:"text-uppercase text-center"}," Jour cumulé "),e("th",{class:"text-uppercase text-center"}," Jour pris "),e("th",{class:"text-uppercase text-center"}," Action ")])],-1)),Z={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},se={class:"text-center"},oe=["onClick"],ae=["onClick"],le={class:"text-xs-center"},D=5,ne=S({__name:"DemoSimpleTableDensityConge",setup(d){let f=g(0);const n=$([]),c=g(!1),A=s=>{f.value=s,c.value=!0},w=()=>{c.value=!1};let B=s=>{M.push({name:"edit-conge",params:{id:s}})},r=g(1);const h=()=>{console.log(r);const s=(r.value-1)*D,i=`limit=${D}&offset=${s}`;v.getAllConges(i).then(o=>{const l=o.data.results;n.pop(),n.push(o.data),console.log(n[0].results,l)}).catch(o=>{(o.status="401")&&console.error(o)})},I=()=>{v.deleteConge(f.value).then(s=>{h()}).catch(s=>{(s.status="401")&&console.error(s)}),c.value=!1};h();const E=P(()=>{var s;return Math.ceil(((s=n[0])==null?void 0:s.count)/5)});return(s,i)=>(m(),x(b,null,[t(Y,{modelValue:p(c),"onUpdate:modelValue":i[0]||(i[0]=o=>y(c)?c.value=o:null),"max-width":"500px"},{default:a(()=>[t(T,null,{default:a(()=>[t(j,{class:"headline"},{default:a(()=>[u("Confirmation de suppression")]),_:1}),t(F,null,{default:a(()=>[u(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),t(O,null,{default:a(()=>[t(V,{onClick:I,style:{color:"red"}},{default:a(()=>[u("Confimer")]),_:1}),t(V,{onClick:w},{default:a(()=>[u("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",W,[t(V,{to:"/create-conge"},{default:a(()=>[u("Ajouter")]),_:1})]),t(q,{density:"compact"},{default:a(()=>{var o;return[X,e("tbody",null,[(m(!0),x(b,null,R((o=p(n)[0])==null?void 0:o.results,l=>{var C;return m(),x("tr",{key:l.id},[e("td",null,_((C=l.employee)==null?void 0:C.firstName),1),e("td",Z,_(l.montant),1),e("td",ee,_(l.cumulativeDay),1),e("td",te,_(l.tekanDay),1),e("td",se,[e("button",{onClick:N=>p(B)(l.id)},[t(k,{icon:"mdi-edit"})],8,oe),e("button",{onClick:N=>A(l.id)},[t(k,{icon:"mdi-trash",style:{color:"red"}})],8,ae)])])}),128))])]}),_:1}),e("div",le,[t(z,{modelValue:p(r),"onUpdate:modelValue":i[1]||(i[1]=o=>y(r)?r.value=o:r=o),length:p(E),circle:"",onClick:h},null,8,["modelValue","length"])])],64))}});const ce=G(ne,[["__scopeId","data-v-7f964b0d"]]),be=S({__name:"conges",setup(d){return(f,n)=>(m(),U(K,null,{default:a(()=>[t(H,{cols:"12"},{default:a(()=>[t(T,{title:"Congés"},{default:a(()=>[t(ce)]),_:1})]),_:1})]),_:1}))}});export{be as default};
