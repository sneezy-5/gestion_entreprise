import{d as c,r as E,ba as f,ci as _,o as y,c as b,e as a,k as o,i as t,bV as p,N as g,V as k,p as i,t as x,bS as w,co as h,m as C}from"./index-548d44d1.js";import{a as n,V}from"./VRow-4f92fdd1.js";import{V as S}from"./VSelect-881b3fd7.js";import{V as d}from"./VTextField-f85f9694.js";import{V as U}from"./VSnackbar-7e8d4438.js";import{V as B}from"./VCounter-3543cf5b.js";import{a as J,V as N}from"./VCard-fc59d69e.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-528d0b92.js";import"./index-d9ad5dd9.js";import"./VImg-a20b01d5.js";import"./ssrBoot-595446f4.js";import"./VAvatar-2a93fb47.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./dialog-transition-ec6f11a2.js";import"./VCheckboxBtn-172bb155.js";const F=c({__name:"DemoFormLayoutConge",setup(v){const m=E({show:!1,text:"",color:""}),u=f([]);_.getAllEmployees().then(r=>{const l=r.data.results;for(let s=0;s<l.length;s++)u.push({state:l[s].firstName,abbr:l[s].id});console.log(u)}).catch(r=>{r.status=="401"&&console.error(r)});const e=f({montant:null,cumulativeDay:null,tekanDay:null,employee:null,formErrors:{montant:!1,cumulativeDay:!1,tekanDay:!1,employee:!1}}),D=()=>{console.log(e),h.createConge(e).then(r=>{e.formErrors.montant=!1,e.formErrors.cumulativeDay=!1,e.formErrors.tekanDay=!1,e.formErrors.employee=!1,m.value={show:!0,text:"Enregistré avec succès",color:"green"}}).catch(r=>{r.response.data.RequestDate?(e.formErrors.montant=!0,m.value={show:!0,text:r.response.data.montant,color:"red"}):e.formErrors.montant=!1,r.response.data.amount?(e.formErrors.cumulativeDay=!0,m.value={show:!0,text:r.response.data.cumulativeDay,color:"red"}):e.formErrors.cumulativeDay=!1,r.response.data.tekanDay?(e.formErrors.tekanDay=!0,m.value={show:!0,text:r.response.data.tekanDay,color:"red"}):e.formErrors.tekanDay=!1,r.response.data.employee?(e.formErrors.employee=!0,m.value={show:!0,text:r.response.data.employee,color:"red"}):e.formErrors.employee=!1,console.log(r)})};return(r,l)=>(y(),b(B,{onSubmit:w(D,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[o(V,null,{default:a(()=>[o(n,{cols:"12",md:"6"},{default:a(()=>[o(S,{modelValue:t(e).employee,"onUpdate:modelValue":l[0]||(l[0]=s=>t(e).employee=s),label:"Employés",items:t(u),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:t(e).formErrors.employee},null,8,["modelValue","items","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:a(()=>[o(d,{type:"number",modelValue:t(e).montant,"onUpdate:modelValue":l[1]||(l[1]=s=>t(e).montant=s),label:"Montant",placeholder:"Montant",error:t(e).formErrors.montant},null,8,["modelValue","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:a(()=>[o(d,{type:"number",modelValue:t(e).cumulativeDay,"onUpdate:modelValue":l[2]||(l[2]=s=>t(e).cumulativeDay=s),label:"Jour cumulé",placeholder:"Jour cumulé",error:t(e).formErrors.cumulativeDay},null,8,["modelValue","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:a(()=>[o(d,{type:"number",modelValue:t(e).tekanDay,"onUpdate:modelValue":l[3]||(l[3]=s=>t(e).tekanDay=s),label:"Jour pris",placeholder:"Jour pris",error:t(e).formErrors.tekanDay},null,8,["modelValue","error"])]),_:1}),o(U,{modelValue:t(m).show,"onUpdate:modelValue":l[5]||(l[5]=s=>t(m).show=s),timeout:3e3,color:t(m).color,top:"top"},{action:a(({attrs:s})=>[o(p,g({text:""},s,{onClick:l[4]||(l[4]=M=>t(m).show=!1)}),{default:a(()=>[o(k,null,{default:a(()=>[i("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[i(x(t(m).text)+" ",1)]),_:1},8,["modelValue","color"]),o(n,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[o(p,{type:"submit"},{default:a(()=>[i(" Enregistré ")]),_:1}),o(p,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),Z=c({__name:"createConge",setup(v){return(m,u)=>(y(),C("div",null,[o(V,null,{default:a(()=>[o(n,{cols:"12"},{default:a(()=>[o(J,{title:"Créé congé"},{default:a(()=>[o(N,null,{default:a(()=>[o(F)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Z as default};
