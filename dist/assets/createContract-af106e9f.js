import{d as y,r as b,ba as f,ci as x,o as V,c as w,e as s,k as a,i as r,bV as u,N as S,V as _,p as i,t as v,bS as A,ck as C,m as U}from"./index-548d44d1.js";import{a as m,V as g}from"./VRow-4f92fdd1.js";import{V as c}from"./VSelect-881b3fd7.js";import{V as p}from"./VTextField-f85f9694.js";import{V as h}from"./VSnackbar-7e8d4438.js";import{V as k}from"./VCounter-3543cf5b.js";import{a as T,V as F}from"./VCard-fc59d69e.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-528d0b92.js";import"./index-d9ad5dd9.js";import"./VImg-a20b01d5.js";import"./ssrBoot-595446f4.js";import"./VAvatar-2a93fb47.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./dialog-transition-ec6f11a2.js";import"./VCheckboxBtn-172bb155.js";const B=y({__name:"DemoFormLayoutContract",setup(E){const n=b({show:!1,text:"",color:""}),d=f([]);x.getAllEmployees().then(l=>{const t=l.data.results;for(let o=0;o<t.length;o++)d.push({state:t[o].firstName,abbr:t[o].id});console.log(d)}).catch(l=>{l.status=="401"&&console.error(l)});const e=f({contract_type:"CDD",position:"",baseSalary:"",extrapay:"",transportationAllowance:"",signingDate:"",startDate:"",endDate:"",employee:"",formErrors:{contract_type:!1,position:!1,baseSalary:!1,extrapay:!1,transportationAllowance:!1,signingDate:!1,startDate:!1,endDate:!1,employee:!1}}),D=()=>{console.log(e),C.createContracts(e).then(l=>{e.formErrors.contract_type=!1,e.formErrors.position=!1,e.formErrors.baseSalary=!1,e.formErrors.extrapay=!1,e.formErrors.transportationAllowance=!1,e.formErrors.signingDate=!1,e.formErrors.startDate=!1,e.formErrors.endDate=!1,e.formErrors.employee=!1,n.value={show:!0,text:"Enregistré avec succès",color:"success"},e.contract_type="",e.position="",e.baseSalary="",e.extrapay="",e.transportationAllowance="",e.signingDate="",e.startDate="",e.endDate="",e.employee=""}).catch(l=>{l.response.data.contract_type?(e.formErrors.contract_type=!0,n.value={show:!0,text:l.response.data.contract_type,color:"danger"}):e.formErrors.contract_type=!1,l.response.data.position?(e.formErrors.position=!0,n.value={show:!0,text:l.response.data.position,color:"danger"}):e.formErrors.position=!1,l.response.data.baseSalary?(e.formErrors.baseSalary=!0,n.value={show:!0,text:l.response.data.baseSalary,color:"danger"}):e.formErrors.baseSalary=!1,l.response.data.extrapay?(e.formErrors.extrapay=!0,n.value={show:!0,text:l.response.data.extrapay,color:"danger"}):e.formErrors.extrapay=!1,l.response.data.transportationAllowance,e.formErrors.transportationAllowance=!1,l.response.data.signingDate?(e.formErrors.signingDate=!0,n.value={show:!0,text:l.response.data.signingDate,color:"danger"}):e.formErrors.signingDate=!1,l.response.data.startDate?(e.formErrors.startDate=!0,n.value={show:!0,text:l.response.data.startDate,color:"danger"}):e.formErrors.startDate=!1,l.response.data.endDate?(e.formErrors.endDate=!0,n.value={show:!0,text:l.response.data.endDate,color:"danger"}):e.formErrors.endDate=!1,l.response.data.employee?(e.formErrors.employee=!0,n.value={show:!0,text:l.response.data.employee,color:"danger"}):e.formErrors.employee=!1,console.log(l)})};return(l,t)=>(V(),w(k,{onSubmit:A(D,["prevent"]),enctype:"multipart/form-data"},{default:s(()=>[a(g,null,{default:s(()=>[a(m,{cols:"12",md:"6"},{default:s(()=>[a(c,{modelValue:r(e).employee,"onUpdate:modelValue":t[0]||(t[0]=o=>r(e).employee=o),label:"Employés",items:r(d),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:r(e).formErrors.employee},null,8,["modelValue","items","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(c,{modelValue:r(e).contract_type,"onUpdate:modelValue":t[1]||(t[1]=o=>r(e).contract_type=o),label:"Contrat",items:["CDD","CDI","STAGE"],error:r(e).formErrors.contract_type},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{modelValue:r(e).position,"onUpdate:modelValue":t[2]||(t[2]=o=>r(e).position=o),label:"Poste",placeholder:"Poste",error:r(e).formErrors.position},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"number",modelValue:r(e).baseSalary,"onUpdate:modelValue":t[3]||(t[3]=o=>r(e).baseSalary=o),label:"Salaire de base",placeholder:"Salaire de base",error:r(e).formErrors.baseSalary},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"number",modelValue:r(e).extrapay,"onUpdate:modelValue":t[4]||(t[4]=o=>r(e).extrapay=o),label:"Sur salaie",placeholder:"Sur salaire",error:r(e).formErrors.extrapay},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"number",modelValue:r(e).transportationAllowance,"onUpdate:modelValue":t[5]||(t[5]=o=>r(e).transportationAllowance=o),label:"Transport",placeholder:"Transport",error:r(e).formErrors.transportationAllowance},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"date",modelValue:r(e).startDate,"onUpdate:modelValue":t[6]||(t[6]=o=>r(e).startDate=o),label:"Debut contrat",placeholder:"Debut",error:r(e).formErrors.startDate},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"date",modelValue:r(e).endDate,"onUpdate:modelValue":t[7]||(t[7]=o=>r(e).endDate=o),label:"Fin contrat",placeholder:"Fin",error:r(e).formErrors.endDate},null,8,["modelValue","error"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(p,{type:"date",modelValue:r(e).signingDate,"onUpdate:modelValue":t[8]||(t[8]=o=>r(e).signingDate=o),label:"Signature",placeholder:"Signature",error:r(e).formErrors.signingDate},null,8,["modelValue","error"])]),_:1}),a(h,{modelValue:r(n).show,"onUpdate:modelValue":t[10]||(t[10]=o=>r(n).show=o),timeout:3e3,color:r(n).color,top:"top"},{action:s(({attrs:o})=>[a(u,S({text:""},o,{onClick:t[9]||(t[9]=N=>r(n).show=!1)}),{default:s(()=>[a(_,null,{default:s(()=>[i("mdi-close")]),_:1})]),_:2},1040)]),default:s(()=>[i(v(r(n).text)+" ",1)]),_:1},8,["modelValue","color"]),a(m,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[a(u,{type:"submit"},{default:s(()=>[i(" Enregistré ")]),_:1}),a(u,{type:"reset",color:"secondary",variant:"tonal"},{default:s(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),Z=y({__name:"createContract",setup(E){return(n,d)=>(V(),U("div",null,[a(g,null,{default:s(()=>[a(m,{cols:"12"},{default:s(()=>[a(T,{title:"Ajouter contrat"},{default:s(()=>[a(F,null,{default:s(()=>[a(B)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{Z as default};
