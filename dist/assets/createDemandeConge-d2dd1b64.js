import{d as _,r as y,O as c,o as V,c as E,e as o,k as t,i as l,bS as f,N as C,V as h,p as n,t as v,bQ as w,m as D}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{d as p}from"./demandeconges.service-93513291.js";import{a as m,V as g}from"./VRow-b4fd1837.js";import{V as i}from"./VTextField-6bab4857.js";import{V as k}from"./VSnackbar-48185565.js";import{V as S}from"./VCounter-f481b6e6.js";import{a as F,V as B}from"./VCard-9f617b6a.js";import"./VImg-17513cc0.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./index-1a500ab3.js";import"./VAvatar-d640487b.js";const N=_({__name:"DemoFormLayoutDemandeConge",setup(x){const d=y({show:!1,text:"",color:""}),u=c([]);p.getAllDeamndeConges().then(a=>{const r=a.data.results;for(let s=0;s<r.length;s++)u.push({state:r[s].firstName,abbr:r[s].id});console.log(u)}).catch(a=>{a.status=="401"&&console.error(a)});const e=c({start_date:null,end_date:null,user:null,employee:null,formErrors:{start_date:!1,end_date:!1,user:!1,employee:!1}}),b=()=>{console.log(e),p.createDemandeConge(e).then(a=>{e.formErrors.start_date=!1,e.formErrors.end_date=!1,e.formErrors.user=!1,e.formErrors.employee=!1,d.value={show:!0,text:"Démande effectué avec succès",color:"success"}}).catch(a=>{a.response.data.start_date?(e.formErrors.start_date=!0,d.value={show:!0,text:a.response.data.start_date,color:"danger"}):e.formErrors.start_date=!1,a.response.data.end_date?(e.formErrors.end_date=!0,d.value={show:!0,text:a.response.data.end_date,color:"danger"}):e.formErrors.end_date=!1,console.log(a)})};return(a,r)=>(V(),E(S,{onSubmit:w(b,["prevent"]),enctype:"multipart/form-data"},{default:o(()=>[t(g,null,{default:o(()=>[t(m,{cols:"12",md:"6"},{default:o(()=>[t(i,{type:"date",modelValue:l(e).start_date,"onUpdate:modelValue":r[0]||(r[0]=s=>l(e).start_date=s),label:"Début des congés",placeholder:"Début des congés",error:l(e).formErrors.start_date},null,8,["modelValue","error"])]),_:1}),t(m,{cols:"12",md:"6"},{default:o(()=>[t(i,{type:"date",modelValue:l(e).end_date,"onUpdate:modelValue":r[1]||(r[1]=s=>l(e).end_date=s),label:"Fin des congés",placeholder:"Fin des congé",error:l(e).formErrors.end_date},null,8,["modelValue","error"])]),_:1}),t(k,{modelValue:l(d).show,"onUpdate:modelValue":r[3]||(r[3]=s=>l(d).show=s),timeout:3e3,color:l(d).color,top:"top"},{action:o(({attrs:s})=>[t(f,C({text:""},s,{onClick:r[2]||(r[2]=T=>l(d).show=!1)}),{default:o(()=>[t(h,null,{default:o(()=>[n("mdi-close")]),_:1})]),_:2},1040)]),default:o(()=>[n(v(l(d).text)+" ",1)]),_:1},8,["modelValue","color"]),t(m,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[t(f,{type:"submit"},{default:o(()=>[n(" Envoyer demande ")]),_:1}),t(f,{type:"reset",color:"secondary",variant:"tonal"},{default:o(()=>[n(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),J=_({__name:"createDemandeConge",setup(x){return(d,u)=>(V(),D("div",null,[t(g,null,{default:o(()=>[t(m,{cols:"12"},{default:o(()=>[t(F,{title:"Créé congé"},{default:o(()=>[t(B,null,{default:o(()=>[t(N)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{J as default};
