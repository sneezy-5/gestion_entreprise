import{d as c,r as b,O as i,o as _,c as x,e as o,k as t,i as r,bS as u,N as v,V as g,p,t as h,bQ as w,m as S}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{e as k}from"./employees.service-ebfa0509.js";import{p as C}from"./payslips.service-3c033dc1.js";import{a as d,V}from"./VRow-b4fd1837.js";import{V as F}from"./VSelect-d3819a80.js";import{V as f}from"./VTextField-6bab4857.js";import{V as B}from"./VSnackbar-48185565.js";import{V as D}from"./VCounter-f481b6e6.js";import{a as N,V as P}from"./VCard-9f617b6a.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-0d5d1b04.js";import"./index-1a500ab3.js";import"./VImg-17513cc0.js";import"./ssrBoot-b02e1060.js";import"./VAvatar-d640487b.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./dialog-transition-f581d50d.js";import"./VCheckboxBtn-ebf12b5d.js";const U=c({__name:"DemoFormLayoutPayslip",setup(y){const m=b({show:!1,text:"",color:""}),n=i([]);k.getAllEmployees().then(s=>{const a=s.data.results;for(let l=0;l<a.length;l++)n.push({state:a[l].firstName,abbr:a[l].id});console.log(n)}).catch(s=>{s.status=="401"&&console.error(s)});const e=i({start_date:null,end_date:null,employee:null,formErrors:{start_date:!1,end_date:!1,employee:!1}}),E=()=>{console.log(e),C.createPayslipsOne(e).then(s=>{e.formErrors.start_date=!1,e.formErrors.end_date=!1,e.formErrors.employee=!1,m.value={show:!0,text:"Enregistré avec succès",color:"green"}}).catch(s=>{s.response.data.start_date?(e.formErrors.start_date=!0,m.value={show:!0,text:s.response.data.start_date,color:"red"}):e.formErrors.start_date=!1,s.response.data.end_date?(e.formErrors.end_date=!0,m.value={show:!0,text:s.response.data.end_date,color:"red"}):e.formErrors.end_date=!1,s.response.data.employee?(e.formErrors.employee=!0,m.value={show:!0,text:s.response.data.employee,color:"red"}):e.formErrors.employee=!1})};return(s,a)=>(_(),x(D,{onSubmit:w(E,["prevent"]),enctype:"multipart/form-data"},{default:o(()=>[t(V,null,{default:o(()=>[t(d,{cols:"12",md:"6"},{default:o(()=>[t(F,{modelValue:r(e).employee,"onUpdate:modelValue":a[0]||(a[0]=l=>r(e).employee=l),label:"Employés",items:r(n),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:r(e).formErrors.employee},null,8,["modelValue","items","error"])]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[t(f,{type:"date",modelValue:r(e).start_date,"onUpdate:modelValue":a[1]||(a[1]=l=>r(e).start_date=l),label:"Debut",placeholder:"Debut",error:r(e).formErrors.start_date},null,8,["modelValue","error"])]),_:1}),t(d,{cols:"12",md:"6"},{default:o(()=>[t(f,{type:"date",modelValue:r(e).end_date,"onUpdate:modelValue":a[2]||(a[2]=l=>r(e).end_date=l),label:"Fin",placeholder:"Fin",error:r(e).formErrors.end_date},null,8,["modelValue","error"])]),_:1}),t(B,{modelValue:r(m).show,"onUpdate:modelValue":a[4]||(a[4]=l=>r(m).show=l),timeout:3e3,color:r(m).color,top:"top"},{action:o(({attrs:l})=>[t(u,v({text:""},l,{onClick:a[3]||(a[3]=T=>r(m).show=!1)}),{default:o(()=>[t(g,null,{default:o(()=>[p("mdi-close")]),_:1})]),_:2},1040)]),default:o(()=>[p(h(r(m).text)+" ",1)]),_:1},8,["modelValue","color"]),t(d,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[t(u,{type:"submit"},{default:o(()=>[p(" Enregistré ")]),_:1}),t(u,{type:"reset",color:"secondary",variant:"tonal"},{default:o(()=>[p(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),oe=c({__name:"createPayslip",setup(y){return(m,n)=>(_(),S("div",null,[t(V,null,{default:o(()=>[t(d,{cols:"12"},{default:o(()=>[t(N,{title:"Genérer un bulletin"},{default:o(()=>[t(P,null,{default:o(()=>[t(U)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{oe as default};
