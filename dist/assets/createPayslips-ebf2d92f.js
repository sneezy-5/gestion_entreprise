import{d as f,r as x,O as y,o as i,c as b,e as a,k as t,i as r,bS as u,N as v,V as w,p as n,t as E,bQ as g,m as h}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{p as k}from"./payslips.service-3c033dc1.js";import{a as m,V as _}from"./VRow-b4fd1837.js";import{V as p}from"./VTextField-6bab4857.js";import{V as C}from"./VSnackbar-48185565.js";import{V as S}from"./VCounter-f481b6e6.js";import{a as F,V as B}from"./VCard-9f617b6a.js";import"./VImg-17513cc0.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./index-1a500ab3.js";import"./VAvatar-d640487b.js";const D=f({__name:"DemoFormLayoutPayslips",setup(c){const o=x({show:!1,text:"",color:""}),e=y({start_date:null,end_date:null,formErrors:{start_date:!1,end_date:!1}}),V=()=>{console.log(e),k.createPayslips(e).then(s=>{e.formErrors.start_date=!1,e.formErrors.end_date=!1,o.value={show:!0,text:"Généré avec succès",color:"green"}}).catch(s=>{s.response.data.message&&(e.formErrors.start_date=!0,o.value={show:!0,text:s.response.data.message,color:"red"}),s.response.data.start_date?(e.formErrors.start_date=!0,o.value={show:!0,text:s.response.data.start_date,color:"red"}):e.formErrors.start_date=!1,s.response.data.end_date?(e.formErrors.end_date=!0,o.value={show:!0,text:s.response.data.end_date,color:"red"}):e.formErrors.end_date=!1,console.log(s)})};return(s,l)=>(i(),b(S,{onSubmit:g(V,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[t(_,null,{default:a(()=>[t(m,{cols:"12",md:"6"},{default:a(()=>[t(p,{type:"date",modelValue:r(e).start_date,"onUpdate:modelValue":l[0]||(l[0]=d=>r(e).start_date=d),label:"Debut",placeholder:"Debut",error:r(e).formErrors.start_date},null,8,["modelValue","error"])]),_:1}),t(m,{cols:"12",md:"6"},{default:a(()=>[t(p,{type:"date",modelValue:r(e).end_date,"onUpdate:modelValue":l[1]||(l[1]=d=>r(e).end_date=d),label:"Fin",placeholder:"Fin",error:r(e).formErrors.end_date},null,8,["modelValue","error"])]),_:1}),t(C,{modelValue:r(o).show,"onUpdate:modelValue":l[3]||(l[3]=d=>r(o).show=d),timeout:3e3,color:r(o).color,top:"top"},{action:a(({attrs:d})=>[t(u,v({text:""},d,{onClick:l[2]||(l[2]=P=>r(o).show=!1)}),{default:a(()=>[t(w,null,{default:a(()=>[n("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[n(E(r(o).text)+" ",1)]),_:1},8,["modelValue","color"]),t(m,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[t(u,{type:"submit"},{default:a(()=>[n(" Générer ")]),_:1}),t(u,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[n(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),H=f({__name:"createPayslips",setup(c){return(o,e)=>(i(),h("div",null,[t(_,null,{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[t(F,{title:"Genérer"},{default:a(()=>[t(B,null,{default:a(()=>[t(D)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{H as default};
