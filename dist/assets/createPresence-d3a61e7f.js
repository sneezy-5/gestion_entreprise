import{d as y,r as b,O as i,o as E,c,e as a,k as o,i as r,bS as f,N as O,V as H,p,t as x,bQ as w,m as S}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{e as C}from"./employees.service-ebfa0509.js";import{p as U}from"./presences.service-7fab686a.js";import{a as d,V as v}from"./VRow-b4fd1837.js";import{V as g}from"./VSelect-d3819a80.js";import{V as n}from"./VTextField-6bab4857.js";import{V as h}from"./VSnackbar-48185565.js";import{V as k}from"./VCounter-f481b6e6.js";import{a as D,V as P}from"./VCard-9f617b6a.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-0d5d1b04.js";import"./index-1a500ab3.js";import"./VImg-17513cc0.js";import"./ssrBoot-b02e1060.js";import"./VAvatar-d640487b.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./dialog-transition-f581d50d.js";import"./VCheckboxBtn-ebf12b5d.js";const F=y({__name:"DemoFormLayoutPresence",setup(V){const m=b({show:!1,text:"",color:""}),u=i([]);C.getAllEmployees().then(t=>{const l=t.data.results;for(let s=0;s<l.length;s++)u.push({state:l[s].firstName,abbr:l[s].id});console.log(u)}).catch(t=>{t.status=="401"&&console.error(t)});const e=i({periodStart:null,periodEnd:null,absentdays:null,presentdays:null,delays:null,normalHours:null,normalHoursComplementary:null,Overtime_15:null,Overtime_50:null,Overtime_75:null,Overtime_100:null,employee:null,formErrors:{periodStart:!1,periodEnd:!1,absentdays:!1,presentdays:!1,delays:!1,normalHours:!1,normalHoursComplementary:!1,Overtime_15:!1,Overtime_50:!1,Overtime_75:!1,Overtime_100:!1,employee:!1}}),_=()=>{console.log(e),U.createresence(e).then(t=>{e.formErrors.periodStart=!1,e.formErrors.periodEnd=!1,e.formErrors.absentdays=!1,e.formErrors.presentdays=!1,e.formErrors.delays=!1,e.formErrors.normalHours=!1,e.formErrors.normalHoursComplementary=!1,e.formErrors.Overtime_15=!1,e.formErrors.Overtime_50=!1,e.formErrors.Overtime_75=!1,e.formErrors.Overtime_100=!1,e.formErrors.employee=!1,m.value={show:!0,text:"Enregistré avec succès",color:"green"}}).catch(t=>{t.response.data.periodStart?(e.formErrors.periodStart=!0,m.value={show:!0,text:t.response.data.periodStart,color:"red"}):e.formErrors.periodStart=!1,t.response.data.periodEnd?(e.formErrors.periodEnd=!0,m.value={show:!0,text:t.response.data.periodEnd,color:"red"}):e.formErrors.periodEnd=!1,t.response.data.absentdays?(e.formErrors.absentdays=!0,m.value={show:!0,text:t.response.data.absentdays,color:"red"}):e.formErrors.absentdays=!1,t.response.data.presentdays?(e.formErrors.presentdays=!0,m.value={show:!0,text:t.response.data.presentdays,color:"red"}):e.formErrors.presentdays=!1,t.response.data.delays,e.formErrors.delays=!1,t.response.data.normalHours?(e.formErrors.normalHours=!0,m.value={show:!0,text:t.response.data.normalHours,color:"red"}):e.formErrors.normalHours=!1,t.response.data.normalHoursComplementary?(e.formErrors.normalHoursComplementary=!0,m.value={show:!0,text:t.response.data.normalHoursComplementary,color:"red"}):e.formErrors.normalHoursComplementary=!1,t.response.data.Overtime_15?(e.formErrors.Overtime_15=!0,m.value={show:!0,text:t.response.data.Overtime_15,color:"red"}):e.formErrors.Overtime_50=!1,t.response.data.Overtime_50?(e.formErrors.Overtime_50=!0,m.value={show:!0,text:t.response.data.Overtime_50,color:"red"}):e.formErrors.Overtime_75=!1,t.response.data.Overtime_75?(e.formErrors.Overtime_15=!0,m.value={show:!0,text:t.response.data.Overtime_75,color:"red"}):e.formErrors.Overtime_100=!1,t.response.data.Overtime_100?(e.formErrors.Overtime_100=!0,m.value={show:!0,text:t.response.data.Overtime_100,color:"red"}):e.formErrors.Overtime_100=!1,t.response.data.employee?(e.formErrors.employee=!0,m.value={show:!0,text:t.response.data.employee,color:"red"}):e.formErrors.employee=!1,console.log(t)})};return(t,l)=>(E(),c(k,{onSubmit:w(_,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[o(v,null,{default:a(()=>[o(d,{cols:"12",md:"6"},{default:a(()=>[o(g,{modelValue:r(e).employee,"onUpdate:modelValue":l[0]||(l[0]=s=>r(e).employee=s),label:"Employés",items:r(u),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:r(e).formErrors.employee},null,8,["modelValue","items","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"date",modelValue:r(e).periodStart,"onUpdate:modelValue":l[1]||(l[1]=s=>r(e).periodStart=s),label:"Debut",placeholder:"Debut",error:r(e).formErrors.periodStart},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"date",modelValue:r(e).periodEnd,"onUpdate:modelValue":l[2]||(l[2]=s=>r(e).periodEnd=s),label:"Fin",placeholder:"Fin",error:r(e).formErrors.periodEnd},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).presentdays,"onUpdate:modelValue":l[3]||(l[3]=s=>r(e).presentdays=s),label:"Presence",placeholder:"Presence",error:r(e).formErrors.presentdays},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).absentdays,"onUpdate:modelValue":l[4]||(l[4]=s=>r(e).absentdays=s),label:"Absence",placeholder:"Absence",error:r(e).formErrors.absentdays},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).delays,"onUpdate:modelValue":l[5]||(l[5]=s=>r(e).delays=s),label:"Delay",placeholder:"Delay",error:r(e).formErrors.delays},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).normalHours,"onUpdate:modelValue":l[6]||(l[6]=s=>r(e).normalHours=s),label:"Heure normal",placeholder:"Heure normal",error:r(e).formErrors.normalHours},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).normalHoursComplementary,"onUpdate:modelValue":l[7]||(l[7]=s=>r(e).normalHoursComplementary=s),label:"Heure normal complementaire",placeholder:"Heure normal complementaire",error:r(e).formErrors.normalHoursComplementary},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).Overtime_15,"onUpdate:modelValue":l[8]||(l[8]=s=>r(e).Overtime_15=s),label:"Heure sup",placeholder:"Heure sup",error:r(e).formErrors.Overtime_15},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).Overtime_50,"onUpdate:modelValue":l[9]||(l[9]=s=>r(e).Overtime_50=s),label:"Heure sup",placeholder:"Heure sup",error:r(e).formErrors.Overtime_50},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).Overtime_75,"onUpdate:modelValue":l[10]||(l[10]=s=>r(e).Overtime_75=s),label:"Heure sup 75",placeholder:"Heure sup 75",error:r(e).formErrors.Overtime_75},null,8,["modelValue","error"])]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[o(n,{type:"number",modelValue:r(e).Overtime_100,"onUpdate:modelValue":l[11]||(l[11]=s=>r(e).Overtime_100=s),label:"Heure sup 100",placeholder:"Heure sup 100",error:r(e).formErrors.Overtime_100},null,8,["modelValue","error"])]),_:1}),o(h,{modelValue:r(m).show,"onUpdate:modelValue":l[13]||(l[13]=s=>r(m).show=s),timeout:3e3,color:r(m).color,top:"top"},{action:a(({attrs:s})=>[o(f,O({text:""},s,{onClick:l[12]||(l[12]=A=>r(m).show=!1)}),{default:a(()=>[o(H,null,{default:a(()=>[p("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[p(x(r(m).text)+" ",1)]),_:1},8,["modelValue","color"]),o(d,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[o(f,{type:"submit"},{default:a(()=>[p(" Enregistré ")]),_:1}),o(f,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[p(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),oe=y({__name:"createPresence",setup(V){return(m,u)=>(E(),S("div",null,[o(v,null,{default:a(()=>[o(d,{cols:"12"},{default:a(()=>[o(D,{title:"Ajouter Présence"},{default:a(()=>[o(P,null,{default:a(()=>[o(F)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{oe as default};
