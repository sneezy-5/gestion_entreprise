import{d as c,r as x,O as f,o as V,c as b,e as r,k as o,i as t,bS as i,N as v,V as g,p as d,t as w,bQ as h,m as C}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{e as S}from"./employees.service-ebfa0509.js";import{p as k}from"./primes.service-c95e7a5f.js";import{a as n,V as E}from"./VRow-b4fd1837.js";import{V as T}from"./VSelect-d3819a80.js";import{V as p}from"./VTextField-6bab4857.js";import{V as U}from"./VSnackbar-48185565.js";import{V as B}from"./VCounter-f481b6e6.js";import{a as N,V as P}from"./VCard-9f617b6a.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-0d5d1b04.js";import"./index-1a500ab3.js";import"./VImg-17513cc0.js";import"./ssrBoot-b02e1060.js";import"./VAvatar-d640487b.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./dialog-transition-f581d50d.js";import"./VCheckboxBtn-ebf12b5d.js";const D=c({__name:"DemoFormLayoutPrime",setup(_){const m=x({show:!1,text:"",color:""}),u=f([]);S.getAllEmployees().then(s=>{const l=s.data.results;for(let a=0;a<l.length;a++)u.push({state:l[a].firstName,abbr:l[a].id});console.log(u)}).catch(s=>{s.status=="401"&&console.error(s)});const e=f({title:"",amount:null,code:"",employee:null,formErrors:{title:!1,amount:!1,code:!1,employee:!1}}),y=()=>{console.log(e),k.createPrime(e).then(s=>{e.formErrors.title=!1,e.formErrors.amount=!1,e.formErrors.code=!1,e.formErrors.employee=!1,m.value={show:!0,text:"Enregistré avec succès",color:"green"}}).catch(s=>{s.response.data.RequestDate?(e.formErrors.title=!0,m.value={show:!0,text:s.response.data.title,color:"red"}):e.formErrors.title=!1,s.response.data.amount?(e.formErrors.amount=!0,m.value={show:!0,text:s.response.data.amount,color:"red"}):e.formErrors.amount=!1,s.response.data.code?(e.formErrors.code=!0,m.value={show:!0,text:s.response.data.code,color:"red"}):e.formErrors.code=!1,console.log(s)})};return(s,l)=>(V(),b(B,{onSubmit:h(y,["prevent"]),enctype:"multipart/form-data"},{default:r(()=>[o(E,null,{default:r(()=>[o(n,{cols:"12",md:"6"},{default:r(()=>[o(T,{modelValue:t(e).employee,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).employee=a),label:"Employés",items:t(u),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:t(e).formErrors.employee},null,8,["modelValue","items","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:r(()=>[o(p,{type:"text",modelValue:t(e).title,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).title=a),label:"Titre",placeholder:"Titre",error:t(e).formErrors.title},null,8,["modelValue","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:r(()=>[o(p,{type:"number",modelValue:t(e).amount,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).amount=a),label:"Montant",placeholder:"Montant",error:t(e).formErrors.amount},null,8,["modelValue","error"])]),_:1}),o(n,{cols:"12",md:"6"},{default:r(()=>[o(p,{type:"text",modelValue:t(e).code,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).code=a),label:"Code",placeholder:"Code",error:t(e).formErrors.code},null,8,["modelValue","error"])]),_:1}),o(U,{modelValue:t(m).show,"onUpdate:modelValue":l[5]||(l[5]=a=>t(m).show=a),timeout:3e3,color:t(m).color,top:"top"},{action:r(({attrs:a})=>[o(i,v({text:""},a,{onClick:l[4]||(l[4]=F=>t(m).show=!1)}),{default:r(()=>[o(g,null,{default:r(()=>[d("mdi-close")]),_:1})]),_:2},1040)]),default:r(()=>[d(w(t(m).text)+" ",1)]),_:1},8,["modelValue","color"]),o(n,{cols:"12",class:"d-flex gap-4"},{default:r(()=>[o(i,{type:"submit"},{default:r(()=>[d(" Enregistré ")]),_:1}),o(i,{type:"reset",color:"secondary",variant:"tonal"},{default:r(()=>[d(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),te=c({__name:"createPrime",setup(_){return(m,u)=>(V(),C("div",null,[o(E,null,{default:r(()=>[o(n,{cols:"12"},{default:r(()=>[o(N,{title:"Ajouter prime"},{default:r(()=>[o(P,null,{default:r(()=>[o(D)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{te as default};
