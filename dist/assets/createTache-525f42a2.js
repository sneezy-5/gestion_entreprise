import{d as _,r as h,O as f,o as E,c as v,e as s,k as a,i as r,bS as c,N as w,V as j,p as i,t as y,bQ as S,m as T}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{u as U}from"./user.service-1e743d10.js";import{t as k}from"./taches.service-c43238d7.js";import{p as C}from"./projet.service-8c51f1fc.js";import{a as n,V as b}from"./VRow-b4fd1837.js";import{V}from"./VSelect-d3819a80.js";import{V as u}from"./VTextField-6bab4857.js";import{V as D}from"./VSnackbar-48185565.js";import{V as B}from"./VCounter-f481b6e6.js";import{a as F,V as L}from"./VCard-9f617b6a.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-0d5d1b04.js";import"./index-1a500ab3.js";import"./VImg-17513cc0.js";import"./ssrBoot-b02e1060.js";import"./VAvatar-d640487b.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./dialog-transition-f581d50d.js";import"./VCheckboxBtn-ebf12b5d.js";const N=_({__name:"DemoFormLayoutTache",setup(g){const d=h({show:!1,text:"",color:""}),m=f([]),p=f([]);U.getList().then(l=>{const o=l.data.data;for(let t=0;t<o.length;t++)m.push({state:o[t].username,abbr:o[t].id});console.log(m)}).catch(l=>{l.status=="401"&&console.error(l)}),C.getProjetList().then(l=>{const o=l.data.data;for(let t=0;t<o.length;t++)p.push({state:o[t].name,abbr:o[t].id});console.log(p)}).catch(l=>{l.status=="401"&&console.error(l)});const e=f({title:"",description:"",start_date:null,end_date:null,user:null,project:null,formErrors:{title:!1,description:!1,start_date:!1,end_date:!1,user:!1,project:!1}}),x=()=>{console.log(e),k.createtache(e).then(l=>{e.formErrors.title=!1,e.formErrors.description=!1,e.formErrors.start_date=!1,e.formErrors.end_date=!1,e.formErrors.user=!1,e.formErrors.project=!1,d.value={show:!0,text:"Enregistré avec succès",color:"success"}}).catch(l=>{l.response.data.title?(e.formErrors.title=!0,d.value={show:!0,text:l.response.data.title,color:"danger"}):e.formErrors.title=!1,l.response.data.start_date?(e.formErrors.start_date=!0,d.value={show:!0,text:l.response.data.start_date,color:"danger"}):e.formErrors.start_date=!1,l.response.data.end_date?(e.formErrors.end_date=!0,d.value={show:!0,text:l.response.data.end_date,color:"danger"}):e.formErrors.end_date=!1,l.response.data.user?(e.formErrors.user=!0,d.value={show:!0,text:l.response.data.user,color:"danger"}):e.formErrors.user=!1,console.log(l)})};return(l,o)=>(E(),v(B,{onSubmit:S(x,["prevent"])},{default:s(()=>[a(b,null,{default:s(()=>[a(n,{cols:"12",md:"6"},{default:s(()=>[a(V,{modelValue:r(e).user,"onUpdate:modelValue":o[0]||(o[0]=t=>r(e).user=t),label:"Employés",items:r(m),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:r(e).formErrors.user},null,8,["modelValue","items","error"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(V,{modelValue:r(e).project,"onUpdate:modelValue":o[1]||(o[1]=t=>r(e).project=t),label:"Projets",items:r(p),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:r(e).formErrors.project},null,8,["modelValue","items","error"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{type:"text",modelValue:r(e).title,"onUpdate:modelValue":o[2]||(o[2]=t=>r(e).title=t),label:"Titre",placeholder:"Titre",error:r(e).formErrors.title},null,8,["modelValue","error"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{type:"text",modelValue:r(e).description,"onUpdate:modelValue":o[3]||(o[3]=t=>r(e).description=t),label:"Description",placeholder:"Description",error:r(e).formErrors.description},null,8,["modelValue","error"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{type:"date",modelValue:r(e).start_date,"onUpdate:modelValue":o[4]||(o[4]=t=>r(e).start_date=t),label:"Debut",placeholder:"Debut",error:r(e).formErrors.start_date},null,8,["modelValue","error"])]),_:1}),a(n,{cols:"12",md:"6"},{default:s(()=>[a(u,{type:"date",modelValue:r(e).end_date,"onUpdate:modelValue":o[5]||(o[5]=t=>r(e).end_date=t),label:"Fin",error:r(e).formErrors.end_date},null,8,["modelValue","error"])]),_:1}),a(D,{modelValue:r(d).show,"onUpdate:modelValue":o[7]||(o[7]=t=>r(d).show=t),timeout:3e3,color:r(d).color,top:"top"},{action:s(({attrs:t})=>[a(c,w({text:""},t,{onClick:o[6]||(o[6]=P=>r(d).show=!1)}),{default:s(()=>[a(j,null,{default:s(()=>[i("mdi-close")]),_:1})]),_:2},1040)]),default:s(()=>[i(y(r(d).text)+" ",1)]),_:1},8,["modelValue","color"]),a(n,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[a(c,{type:"submit"},{default:s(()=>[i(" Enregistré ")]),_:1}),a(c,{type:"reset",color:"secondary",variant:"tonal"},{default:s(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),le=_({__name:"createTache",setup(g){return(d,m)=>(E(),T("div",null,[a(b,null,{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[a(F,{title:"Ajouter Tache"},{default:s(()=>[a(L,null,{default:s(()=>[a(N)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{le as default};
