import{d as E,r as h,ba as p,d8 as w,d9 as C,o as c,c as f,e as n,k as s,i as t,R as y,bV as _,N as S,V as U,p as d,t as D,bS as T,da as k,m as F}from"./index-bfa2d538.js";import{a as i,V as b}from"./VRow-18416828.js";import{V as u}from"./VSelect-afd81524.js";import{V as g}from"./VTextField-62f011eb.js";import{V as A}from"./VSnackbar-7c821870.js";import{V as R}from"./VCounter-9deabfc9.js";import{a as B,V as N}from"./VCard-7877ac97.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-11b1e763.js";import"./index-c03b3b8a.js";import"./VImg-d7e6df3b.js";import"./ssrBoot-b114fef2.js";import"./VAvatar-b5327750.js";import"./VOverlay-b657f991.js";import"./lazy-98d5b0cb.js";import"./easing-9f15041e.js";import"./dialog-transition-44bf92b2.js";import"./VCheckboxBtn-efb2e629.js";const M=E({__name:"DemoFormLayoutTransaction",setup(x){const l=h({show:!1,text:"",color:""}),m=p([]),V=p([]);w.getListComptes().then(r=>{const o=r.data.data;for(let a=0;a<o.length;a++)m.push({abbr:o[a].id,state:o[a].name});console.log(r.data.data)}).catch(r=>{r.status=="401"&&console.error(r)}),C.getAllFournisseurs().then(r=>{const o=r.data.results;for(let a=0;a<o.length;a++)V.push({abbr:o[a].id,state:o[a].name});console.log(r.data.results)}).catch(r=>{r.status=="401"&&console.error(r)});const e=p({transaction_type:null,account:null,transaction_category:null,transaction_date:null,description:null,depense_category:null,supplier:null,amount:null,formErrors:{transaction_type:!1,account:!1,transaction_category:!1,transaction_date:!1,description:!1,supplier:!1,amount:!1,depense_category:!1}}),v=()=>{console.log(e),k.createTransation(e).then(r=>{e.formErrors.transaction_type=!1,e.formErrors.account=!1,e.formErrors.transaction_category=!1,e.formErrors.transaction_date=!1,e.formErrors.description=!1,e.formErrors.supplier=!1,e.formErrors.amount=!1,e.formErrors.depense_category=!1,e.account=null,e.amount=null,e.depense_category=null,e.description=null,e.transaction_category=null,e.transaction_date=null,l.value={show:!0,text:"Enregistré avec succès",color:"success"}}).catch(r=>{r.response.data.amount?(e.formErrors.amount=!0,l.value={show:!0,text:r.response.data.amount,color:"danger"}):e.formErrors.amount=!1,r.response.data.transaction_type?(e.formErrors.transaction_type=!0,l.value={show:!0,text:r.response.data.transaction_type,color:"danger"}):e.formErrors.transaction_type=!1,r.response.data.account?(e.formErrors.account=!0,l.value={show:!0,text:r.response.data.account,color:"danger"}):e.formErrors.account=!1,r.response.data.transaction_category?(e.formErrors.transaction_category=!0,l.value={show:!0,text:r.response.data.transaction_category,color:"danger"}):e.formErrors.transaction_category=!1,r.response.data.transaction_date?(e.formErrors.transaction_date=!0,l.value={show:!0,text:r.response.data.transaction_date,color:"danger"}):e.formErrors.transaction_date=!1,r.response.data.account,e.formErrors.account=!1,r.response.data.description?(e.formErrors.description=!0,l.value={show:!0,text:r.response.data.description,color:"danger"}):e.formErrors.description=!1,r.response.data.supplier?(e.formErrors.supplier=!0,l.value={show:!0,text:r.response.data.supplier,color:"danger"}):e.formErrors.supplier=!1,r.response.data.depense_category?(e.formErrors.depense_category=!0,l.value={show:!0,text:r.response.data.depense_category,color:"danger"}):e.formErrors.depense_category=!1,console.log(r)})};return(r,o)=>(c(),f(R,{onSubmit:T(v,["prevent"]),enctype:"multipart/form-data"},{default:n(()=>[s(b,null,{default:n(()=>[s(i,{cols:"12",md:"6"},{default:n(()=>[s(u,{modelValue:t(e).account,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).account=a),label:"Comptes",items:t(m),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:t(e).formErrors.account},null,8,["modelValue","items","error"])]),_:1}),s(i,{cols:"12",md:"6"},{default:n(()=>[s(u,{modelValue:t(e).transaction_type,"onUpdate:modelValue":o[1]||(o[1]=a=>t(e).transaction_type=a),label:"Type de transaction",items:["Achats","Ventes","Transfert","Virement","Paiements des fournisseurs","Encaissements des clients","Salaires et traitements","Paiements des charges","Dépenses liées aux impôts","Opérations bancaires","Remboursements de prêts","Opérations de capital","Amortissement","Ajustements comptables"],error:t(e).formErrors.transaction_type},null,8,["modelValue","error"])]),_:1}),s(i,{cols:"12",md:"6"},{default:n(()=>[s(u,{modelValue:t(e).transaction_category,"onUpdate:modelValue":o[2]||(o[2]=a=>t(e).transaction_category=a),label:"Catégorie de transaction",items:["Dépense","Révenu"],error:t(e).formErrors.transaction_category},null,8,["modelValue","error"])]),_:1}),t(e).transaction_category=="Dépense"?(c(),f(i,{key:0,cols:"12",md:"6"},{default:n(()=>[s(u,{modelValue:t(e).depense_category,"onUpdate:modelValue":o[3]||(o[3]=a=>t(e).depense_category=a),label:"Type de depense",items:["Charge Fixe","Charge Variable","Charge directe","Charge indirecte"],error:t(e).formErrors.depense_category},null,8,["modelValue","error"])]),_:1})):y("",!0),t(e).transaction_category=="Dépense"?(c(),f(i,{key:1,cols:"12",md:"6"},{default:n(()=>[s(u,{modelValue:t(e).supplier,"onUpdate:modelValue":o[4]||(o[4]=a=>t(e).supplier=a),label:"Fournisseurs",items:t(V),"item-title":"state","item-value":"abbr","persistent-hint":"","single-line":"",error:t(e).formErrors.supplier},null,8,["modelValue","items","error"])]),_:1})):y("",!0),s(i,{cols:"12",md:"6"},{default:n(()=>[s(g,{type:"number",modelValue:t(e).amount,"onUpdate:modelValue":o[5]||(o[5]=a=>t(e).amount=a),label:"Montant ",placeholder:"Montant ",error:t(e).formErrors.amount},null,8,["modelValue","error"])]),_:1}),s(i,{cols:"12",md:"6"},{default:n(()=>[s(g,{type:"text",modelValue:t(e).description,"onUpdate:modelValue":o[6]||(o[6]=a=>t(e).description=a),label:"Description",placeholder:"Description",error:t(e).formErrors.description},null,8,["modelValue","error"])]),_:1}),s(i,{cols:"12",md:"6"},{default:n(()=>[s(g,{type:"date",modelValue:t(e).transaction_date,"onUpdate:modelValue":o[7]||(o[7]=a=>t(e).transaction_date=a),label:"Date",placeholder:"ate",error:t(e).formErrors.transaction_date},null,8,["modelValue","error"])]),_:1}),s(A,{modelValue:t(l).show,"onUpdate:modelValue":o[9]||(o[9]=a=>t(l).show=a),timeout:3e3,color:t(l).color,top:"top"},{action:n(({attrs:a})=>[s(_,S({text:""},a,{onClick:o[8]||(o[8]=P=>t(l).show=!1)}),{default:n(()=>[s(U,null,{default:n(()=>[d("mdi-close")]),_:1})]),_:2},1040)]),default:n(()=>[d(D(t(l).text)+" ",1)]),_:1},8,["modelValue","color"]),s(i,{cols:"12",class:"d-flex gap-4"},{default:n(()=>[s(_,{type:"submit"},{default:n(()=>[d(" Enregistré ")]),_:1}),s(_,{type:"reset",color:"secondary",variant:"tonal"},{default:n(()=>[d(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),re=E({__name:"createTransaction",setup(x){return(l,m)=>(c(),F("div",null,[s(b,null,{default:n(()=>[s(i,{cols:"12"},{default:n(()=>[s(B,{title:"Ajouter Une transaction"},{default:n(()=>[s(N,null,{default:n(()=>[s(M)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{re as default};
