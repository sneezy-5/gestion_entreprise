import{d as c,cj as x,r as v,ba as U,ci as p,o as V,c as P,e as s,k as o,i as t,bV as d,N as C,V as D,p as i,t as S,bS as g,m as w}from"./index-548d44d1.js";import{a as m,V as E}from"./VRow-4f92fdd1.js";import{V as n}from"./VTextField-f85f9694.js";import{V as b}from"./VSelect-881b3fd7.js";import{V as O}from"./VSnackbar-7e8d4438.js";import{V as M}from"./VCounter-3543cf5b.js";import{a as R,V as L}from"./VCard-fc59d69e.js";import"./VImg-a20b01d5.js";import"./forwardRefs-a29b5f65.js";import"./VMenu-528d0b92.js";import"./index-d9ad5dd9.js";import"./ssrBoot-595446f4.js";import"./VAvatar-2a93fb47.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./dialog-transition-ec6f11a2.js";import"./VCheckboxBtn-172bb155.js";const F=c({__name:"DemoFormLayoutEmployeeEdit",setup(h){const f=x().currentRoute.value.params.id,u=v({show:!1,text:"",color:""}),e=U({matricule:"",civility:"Femme",firstName:"",lastName:"",birthdate:null,birthplace:"",nationality:"",pictureURL:"",CNPSnumber:"",CMUnumber:"",street:"",neighborhood:"",city:"",country:"",maritalStatus:"Marié",numberOfDependents:null,NbrOfParts:"",hiringDate:null,seniority:null,currentPosition:"",exitDate:null,phonenumbers:null,email:null,formErrors:{matricule:!1,civility:!1,firstName:!1,lastName:!1,birthdate:!1,birthplace:!1,nationality:!1,pictureURL:!1,CNPSnumber:!1,CMUnumber:!1,street:!1,neighborhood:!1,city:!1,country:!1,maritalStatus:!1,numberOfDependents:!1,NbrOfParts:!1,hiringDate:!1,seniority:!1,currentPosition:!1,exitDate:!1,phonenumbers:!1,email:!1}});p.getlEmploye(f).then(r=>{e.id=r.data.id,e.matricule=r.data.matricule,e.firstName=r.data.firstName,e.lastName=r.data.lastName,e.birthdate=r.data.birthdate,e.birthplace=r.data.birthplace,e.nationality=r.data.nationality,e.pictureURL=r.data.pictureURL,e.CNPSnumber=r.data.CNPSnumber,e.CMUnumber=r.data.CMUnumber,e.street=r.data.street,e.neighborhood=r.data.neighborhood,e.city=r.data.city,e.country=r.data.country,e.maritalStatus=r.data.maritalStatus,e.numberOfDependents=r.data.numberOfDependents,e.NbrOfParts=r.data.NbrOfParts,e.hiringDate=r.data.hiringDate,e.seniority=r.data.seniority,e.currentPosition=r.data.currentPosition,e.exitDate=r.data.exitDate,e.phonenumbers=r.data.phonenumbers,e.email=r.data.email,console.log(r)}).catch(r=>{r.status==401&&console.error(r)});const N=()=>{console.log(e),p.updateEmploye(e).then(r=>{e.formErrors.firstName=!1,e.formErrors.lastName=!1,e.formErrors.email=!1,e.formErrors.street=!1,e.formErrors.matricule=!1,e.formErrors.maritalStatus=!1,e.formErrors.phonenumbers=!1,e.formErrors.CNPSnumber=!1,e.formErrors.currentPosition=!1,e.formErrors.numberOfDependents=!1,e.formErrors.birthdate=!1,e.formErrors.birthplace=!1,e.formErrors.city=!1,e.formErrors.country=!1,e.formErrors.CNPSnumber=!1,e.formErrors.country=!1,e.formErrors.exitDate=!1,e.formErrors.civility=!1,e.formErrors.nationality=!1,e.formErrors.seniority=!1,e.formErrors.pictureURL=!1,e.formErrors.neighborhood=!1,e.formErrors.NbrOfParts=!1,e.formErrors.hiringDate=!1,e.formErrors.CMUnumber=!1,u.value={show:!0,text:"Modifié avec succès",color:"green"}}).catch(r=>{r.response.data.firstName&&(e.formErrors.firstName=!0,u.value={show:!0,text:r.response.data.firstName,color:"red"}),r.response.data.lastName&&(e.formErrors.lastName=!0,u.value={show:!0,text:r.response.data.lastName,color:"red"}),r.response.data.email&&(e.formErrors.email=!0,u.value={show:!0,text:r.response.data.email,color:"red"}),r.response.data.street&&(e.formErrors.street=!0,u.value={show:!0,text:r.response.data.street,color:"red"}),r.response.data.matricule&&(e.formErrors.matricule=!0,u.value={show:!0,text:r.response.data.matricule,color:"red"}),r.response.data.maritalStatus&&(e.formErrors.maritalStatus=!0,u.value={show:!0,text:r.response.data.maritalStatus,color:"red"}),r.response.data.phonenumbers&&(e.formErrors.phonenumbers=!0,u.value={show:!0,text:r.response.data.phonenumbers,color:"red"}),r.response.data.CNPSnumber&&(e.formErrors.CNPSnumber=!0,u.value={show:!0,text:r.response.data.CNPSnumber,color:"red"}),r.response.data.currentPosition&&(e.formErrors.currentPosition=!0,u.value={show:!0,text:r.response.data.currentPosition,color:"red"}),r.response.data.numberOfDependents&&(e.formErrors.numberOfDependents=!0,u.value={show:!0,text:r.response.data.numberOfDependents,color:"red"}),r.response.data.birthdate&&(e.formErrors.birthdate=!0,u.value={show:!0,text:r.response.data.birthdate,color:"red"}),r.response.data.birthplace&&(e.formErrors.birthplace=!0,u.value={show:!0,text:r.response.data.birthplace,color:"red"}),r.response.data.city&&(e.formErrors.city=!0,u.value={show:!0,text:r.response.data.city,color:"red"}),r.response.data.country&&(e.formErrors.country=!0,u.value={show:!0,text:r.response.data.country,color:"red"}),r.response.data.exitDate&&(e.formErrors.exitDate=!0,u.value={show:!0,text:r.response.data.exitDate,color:"red"}),r.response.data.civility&&(e.formErrors.civility=!0,u.value={show:!0,text:r.response.data.civility,color:"red"}),r.response.data.seniority&&(e.formErrors.seniority=!0,u.value={show:!0,text:r.response.data.seniority,color:"red"}),r.response.data.neighborhood&&(e.formErrors.neighborhood=!0,u.value={show:!0,text:r.response.data.neighborhood,color:"red"}),r.response.data.NbrOfParts&&(e.formErrors.NbrOfParts=!0,u.value={show:!0,text:r.response.data.NbrOfParts,color:"red"}),r.response.data.pictureURL&&(e.formErrors.pictureURL=!0,u.value={show:!0,text:r.response.data.pictureURL,color:"red"}),r.response.data.CMUnumber&&(e.formErrors.CMUnumber=!0,u.value={show:!0,text:r.response.data.CMUnumber,color:"red"}),r.response.data.hiringDate&&(e.formErrors.hiringDate=!0,u.value={show:!0,text:r.response.data.hiringDate,color:"red"}),r.response.data.nationality&&(e.formErrors.nationality=!0,u.value={show:!0,text:r.response.data.nationality,color:"red"}),console.log(r)})};return(r,a)=>(V(),P(M,{onSubmit:g(N,["prevent"]),enctype:"multipart/form-data"},{default:s(()=>[o(E,null,{default:s(()=>[o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).firstName,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).firstName=l),label:"First Name",placeholder:"First Name",error:t(e).formErrors.firstName},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).lastName,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).lastName=l),label:"Last Name",placeholder:"Last Name",error:t(e).formErrors.lastName},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).street,"onUpdate:modelValue":a[2]||(a[2]=l=>t(e).street=l),label:"Rue",placeholder:"Rue",error:t(e).formErrors.street},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).email,"onUpdate:modelValue":a[3]||(a[3]=l=>t(e).email=l),label:"City",placeholder:"City",error:t(e).formErrors.email},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).country,"onUpdate:modelValue":a[4]||(a[4]=l=>t(e).country=l),label:"Country",placeholder:"Country",error:t(e).formErrors.country},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).neighborhood,"onUpdate:modelValue":a[5]||(a[5]=l=>t(e).neighborhood=l),label:"Quartier",placeholder:"Quartier",error:t(e).formErrors.neighborhood},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).matricule,"onUpdate:modelValue":a[6]||(a[6]=l=>t(e).matricule=l),label:"Matricule",placeholder:"Matricule",error:t(e).formErrors.matricule},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{modelValue:t(e).nationality,"onUpdate:modelValue":a[7]||(a[7]=l=>t(e).nationality=l),label:"Nationalité",placeholder:"Nationalité",error:t(e).formErrors.nationality},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Date de naissance",modelValue:t(e).birthdate,"onUpdate:modelValue":a[8]||(a[8]=l=>t(e).birthdate=l),error:t(e).formErrors.birthdate,type:"date"},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Lieu de naissance",modelValue:t(e).birthplace,"onUpdate:modelValue":a[9]||(a[9]=l=>t(e).birthplace=l),placeholder:"Lieu de naissance",error:t(e).formErrors.birthplace},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Phone",modelValue:t(e).phonenumbers,"onUpdate:modelValue":a[10]||(a[10]=l=>t(e).phonenumbers=l),placeholder:"Phone",type:"number",error:t(e).formErrors.phonenumbers},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Email",modelValue:t(e).email,"onUpdate:modelValue":a[11]||(a[11]=l=>t(e).email=l),placeholder:"Email",type:"email",error:t(e).formErrors.email},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"CMU",modelValue:t(e).CMUnumber,"onUpdate:modelValue":a[12]||(a[12]=l=>t(e).CMUnumber=l),placeholder:"CMU",type:"number",error:t(e).formErrors.CMUnumber},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"CNPS",modelValue:t(e).CNPSnumber,"onUpdate:modelValue":a[13]||(a[13]=l=>t(e).CNPSnumber=l),placeholder:"CNPS",type:"number",error:t(e).formErrors.CNPSnumber},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Depense",modelValue:t(e).numberOfDependents,"onUpdate:modelValue":a[14]||(a[14]=l=>t(e).numberOfDependents=l),placeholder:"Depense",type:"number",error:t(e).formErrors.numberOfDependents},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Nombre de part",modelValue:t(e).NbrOfParts,"onUpdate:modelValue":a[15]||(a[15]=l=>t(e).NbrOfParts=l),placeholder:"Nombre de part",type:"number",error:t(e).formErrors.NbrOfParts},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Poste",modelValue:t(e).currentPosition,"onUpdate:modelValue":a[16]||(a[16]=l=>t(e).currentPosition=l),placeholder:"Poste",type:"text",error:t(e).formErrors.currentPosition},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Anciennieté",modelValue:t(e).seniority,"onUpdate:modelValue":a[17]||(a[17]=l=>t(e).seniority=l),placeholder:"Ancienneté",type:"number",error:t(e).formErrors.seniority},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(n,{label:"Date d'embauche",modelValue:t(e).hiringDate,"onUpdate:modelValue":a[18]||(a[18]=l=>t(e).hiringDate=l),placeholder:"Date d'embauche",type:"date",error:t(e).formErrors.hiringDate},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(b,{modelValue:t(e).maritalStatus,"onUpdate:modelValue":a[19]||(a[19]=l=>t(e).maritalStatus=l),label:"Status matimonial",items:["Marié","Celibataire","Divorsé"],error:t(e).formErrors.maritalStatus},null,8,["modelValue","error"])]),_:1}),o(m,{cols:"12",md:"6"},{default:s(()=>[o(b,{modelValue:t(e).civility,"onUpdate:modelValue":a[20]||(a[20]=l=>t(e).civility=l),label:"Civilité",items:["Homme","Femme"],error:t(e).formErrors.civility},null,8,["modelValue","error"])]),_:1}),o(O,{modelValue:t(u).show,"onUpdate:modelValue":a[22]||(a[22]=l=>t(u).show=l),timeout:3e3,color:t(u).color,top:"top"},{action:s(({attrs:l})=>[o(d,C({text:""},l,{onClick:a[21]||(a[21]=k=>t(u).show=!1)}),{default:s(()=>[o(D,null,{default:s(()=>[i("mdi-close")]),_:1})]),_:2},1040)]),default:s(()=>[i(S(t(u).text)+" ",1)]),_:1},8,["modelValue","color"]),o(m,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[o(d,{type:"submit"},{default:s(()=>[i(" Enregistré ")]),_:1}),o(d,{type:"reset",color:"secondary",variant:"tonal"},{default:s(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),ee=c({__name:"employeeEdit",setup(h){return(y,f)=>(V(),w("div",null,[o(E,null,{default:s(()=>[o(m,{cols:"12"},{default:s(()=>[o(R,{title:"Créé un employé"},{default:s(()=>[o(L,null,{default:s(()=>[o(F)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{ee as default};
