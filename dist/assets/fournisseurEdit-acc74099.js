import{d as i,cj as v,r as w,ba as g,d9 as f,o as _,c as h,e as t,k as r,i as a,bV as m,N as y,V as C,p as u,t as k,bS as F,m as S}from"./index-548d44d1.js";import{a as d,V}from"./VRow-4f92fdd1.js";import{V as c}from"./VTextField-f85f9694.js";import{V as N}from"./VSnackbar-7e8d4438.js";import{V as B}from"./VCounter-3543cf5b.js";import{a as R,V as U}from"./VCard-fc59d69e.js";import"./VImg-a20b01d5.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./index-d9ad5dd9.js";import"./VAvatar-2a93fb47.js";const T=i({__name:"DemoFormLayoutFournisseurEdit",setup(E){const p=v().currentRoute.value.params.id,l=w({show:!1,text:"",color:""}),e=g({name:null,address:null,contact_person:null,formErrors:{name:!1,address:!1,contact_person:!1}});f.getFournisseur(p).then(o=>{e.id=o.data.id,e.name=o.data.name,e.address=o.data.address,e.contact_person=o.data.contact_person,console.log(o)}).catch(o=>{o.status==401&&console.error(o)});const b=()=>{console.log(e),f.updateFournisseur(e).then(o=>{e.formErrors.name=!1,e.formErrors.address=!1,e.formErrors.contact_person=!1,l.value={show:!0,text:"Modifié avec succès",color:"green"}}).catch(o=>{o.response.data.name?(e.formErrors.name=!0,l.value={show:!0,text:o.response.data.name,color:"red"}):e.formErrors.name=!1,o.response.data.address?(e.formErrors.address=!0,l.value={show:!0,text:o.response.data.address,color:"red"}):e.formErrors.address=!1,o.response.data.contact_person?(e.formErrors.contact_person=!0,l.value={show:!0,text:o.response.data.contact_person,color:"red"}):e.formErrors.contact_person=!1,console.log(o)})};return(o,s)=>(_(),h(B,{onSubmit:F(b,["prevent"]),enctype:"multipart/form-data"},{default:t(()=>[r(V,null,{default:t(()=>[r(d,{cols:"12",md:"6"},{default:t(()=>[r(c,{type:"text",modelValue:a(e).name,"onUpdate:modelValue":s[0]||(s[0]=n=>a(e).name=n),label:"Nom",placeholder:"Nom",error:a(e).formErrors.name},null,8,["modelValue","error"])]),_:1}),r(d,{cols:"12",md:"6"},{default:t(()=>[r(c,{type:"text",modelValue:a(e).address,"onUpdate:modelValue":s[1]||(s[1]=n=>a(e).address=n),label:"Adresse",placeholder:"Adresse",error:a(e).formErrors.address},null,8,["modelValue","error"])]),_:1}),r(d,{cols:"12",md:"6"},{default:t(()=>[r(c,{type:"number",modelValue:a(e).contact_person,"onUpdate:modelValue":s[2]||(s[2]=n=>a(e).contact_person=n),label:"Contact personnel",placeholder:"Contact personnel",error:a(e).formErrors.contact_person},null,8,["modelValue","error"])]),_:1}),r(N,{modelValue:a(l).show,"onUpdate:modelValue":s[4]||(s[4]=n=>a(l).show=n),timeout:3e3,color:a(l).color,top:"top"},{action:t(({attrs:n})=>[r(m,y({text:""},n,{onClick:s[3]||(s[3]=A=>a(l).show=!1)}),{default:t(()=>[r(C,null,{default:t(()=>[u("mdi-close")]),_:1})]),_:2},1040)]),default:t(()=>[u(k(a(l).text)+" ",1)]),_:1},8,["modelValue","color"]),r(d,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[r(m,{type:"submit"},{default:t(()=>[u(" Enregistré ")]),_:1}),r(m,{type:"reset",color:"secondary",variant:"tonal"},{default:t(()=>[u(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),O=i({__name:"fournisseurEdit",setup(E){return(x,p)=>(_(),S("div",null,[r(V,null,{default:t(()=>[r(d,{cols:"12"},{default:t(()=>[r(R,{title:"Editer"},{default:t(()=>[r(U,null,{default:t(()=>[r(T)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{O as default};
