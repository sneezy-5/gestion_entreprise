import"./caller.service-afc094da.js";import{f as g}from"./fournisseurs.service-86dc468e.js";import{d as b,r as h,O as N,l as $,o as _,m as V,k as e,e as a,p as d,bS as x,i as p,aL as C,f as t,Y as k,bc as E,t as v,V as y,R as P,S as R,P as L,c as O}from"./index-54e10577.js";import{a as S,b as U,V as j,e as M}from"./VCard-9f617b6a.js";import{V as Y}from"./VDialog-d6bbd018.js";import{V as q,a as z}from"./VPagination-c4475e8a.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{a as H,V as J}from"./VRow-b4fd1837.js";import"./VAvatar-d640487b.js";import"./VImg-17513cc0.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-f581d50d.js";const K=u=>(P("data-v-4275a8c0"),u=u(),R(),u),Q={class:"flex-end"},W=K(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Nom "),t("th",{class:"text-uppercase text-center"}," Adresse "),t("th",{class:"text-uppercase text-center"}," contact personnel "),t("th",{class:"text-uppercase text-center"}," Action ")])],-1)),X={class:"text-center"},Z={class:"text-center"},ee={class:"text-center"},te=["onClick"],se=["onClick"],oe={class:"text-xs-center"},D=5,ae=b({__name:"DemoSimpleTableDensityFournisseur",setup(u){let m=h(0);const n=N([]),r=h(!1),A=s=>{m.value=s,r.value=!0},F=()=>{r.value=!1};let T=s=>{L.push({name:"edit-fournisseur",params:{id:s}})},c=h(1);const f=()=>{console.log(c);const s=(c.value-1)*D,i=`limit=${D}&offset=${s}`;g.getAllFournisseurs(i).then(o=>{const l=o.data.results;n.pop(),n.push(o.data),console.log(n[0].results,l)}).catch(o=>{(o.status="401")&&console.error(o)})},w=()=>{g.deleteFOurnisseur(m.value).then(s=>{f()}).catch(s=>{(s.status="401")&&console.error(s)}),r.value=!1};f();const B=$(()=>{var s;return Math.ceil(((s=n[0])==null?void 0:s.count)/5)});return(s,i)=>(_(),V(k,null,[e(Y,{modelValue:p(r),"onUpdate:modelValue":i[0]||(i[0]=o=>C(r)?r.value=o:null),"max-width":"500px"},{default:a(()=>[e(S,null,{default:a(()=>[e(U,{class:"headline"},{default:a(()=>[d("Confirmation de suppression")]),_:1}),e(j,null,{default:a(()=>[d(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),e(M,null,{default:a(()=>[e(x,{onClick:w,style:{color:"red"},color:"red"},{default:a(()=>[d("Confimer")]),_:1}),e(x,{onClick:F},{default:a(()=>[d("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",Q,[e(x,{to:"/create-fournisseur"},{default:a(()=>[d("Ajouter")]),_:1})]),e(q,{density:"compact"},{default:a(()=>{var o;return[W,t("tbody",null,[(_(!0),V(k,null,E((o=p(n)[0])==null?void 0:o.results,l=>(_(),V("tr",{key:l.id},[t("td",null,v(l.name),1),t("td",X,v(l.address),1),t("td",Z,v(l.contact_person),1),t("td",ee,[t("button",{onClick:I=>p(T)(l.id)},[e(y,{icon:"mdi-edit"})],8,te),t("button",{onClick:I=>A(l.id)},[e(y,{icon:"mdi-trash",style:{color:"red"}})],8,se)])]))),128))])]}),_:1}),t("div",oe,[e(z,{modelValue:p(c),"onUpdate:modelValue":i[1]||(i[1]=o=>C(c)?c.value=o:c=o),length:p(B),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const le=G(ae,[["__scopeId","data-v-4275a8c0"]]),Ce=b({__name:"fournisseurs",setup(u){return(m,n)=>(_(),O(J,null,{default:a(()=>[e(H,{cols:"12"},{default:a(()=>[e(S,{title:"Fournisseurs"},{default:a(()=>[e(le)]),_:1})]),_:1})]),_:1}))}});export{Ce as default};
