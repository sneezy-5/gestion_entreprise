import{d as y,ce as g,r as E,O as U,o as f,c as P,e as a,k as l,i as o,bS as p,N as x,V as T,p as d,t as S,bQ as v,m as w}from"./index-54e10577.js";import"./caller.service-afc094da.js";import{p as c}from"./payslips.service-3c033dc1.js";import{a as m,V as D}from"./VRow-b4fd1837.js";import{V as n}from"./VTextField-6bab4857.js";import{V as M}from"./VSnackbar-48185565.js";import{V as R}from"./VCounter-f481b6e6.js";import{a as C,V as k}from"./VCard-9f617b6a.js";import"./VImg-17513cc0.js";import"./forwardRefs-a29b5f65.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./index-1a500ab3.js";import"./VAvatar-d640487b.js";const B=y({__name:"DemoFormLayoutPayslipEdit",setup(V){const i=g().currentRoute.value.params.id,u=E({show:!1,text:"",color:""}),e=U({issuanceDate:null,paymentMethod:null,paymentDate:null,netToPay:null,grossIncome:null,TotalPayDeduction:null,daysWorked:null,hoursWorked:null,grossIncomeDetails:{hs15:"",hs50:"",hs75:"",conge:"",hs100:"",sursal:"",hstotal:"",seniority:"",salairBase:"",sommeprime:"",sursalaire:"",ancienneteInYR:"",brutImposableFiscal:"",brutImposableSocial:""},nonDeductibleIncome:{totalprime:"",primetransport:""},companyDeductions:{is:"",total:"",cnpsPat:"",taxForm:"",taxtApp:""},employeeDeductions:{IS:"",cn:"",IGR:"",cmu:"",cnps:"",payday:0,totret:""},matricule:null,formErrors:{issuanceDate:!1,paymentMethod:!1,paymentDate:!1,netToPay:!1,grossIncome:!1,TotalPayDeduction:!1,daysWorked:!1,hoursWorked:!1,grossIncomeDetails:!1,nonDeductibleIncome:!1,companyDeductions:!1,employeeDeductions:!1}});c.getPayslips(i).then(s=>{e.id=s.data.id,e.issuanceDate=s.data.issuanceDate,e.paymentMethod=s.data.paymentMethod,e.paymentDate=s.data.paymentDate,e.TotalPayDeduction=s.data.TotalPayDeduction,e.netToPay=s.data.netToPay,e.grossIncome=s.data.grossIncome,e.companyDeductions=s.data.companyDeductions,e.nonDeductibleIncome=s.data.nonDeductibleIncome,e.employeeDeductions=s.data.employeeDeductions,e.grossIncomeDetails=s.data.grossIncomeDetails,e.matricule=s.data.matricule,console.log(s,e)}).catch(s=>{s.status==401&&console.error(s)});const I=()=>{console.log(e),c.updatePayslips(e).then(s=>{e.formErrors.issuanceDate=!1,e.formErrors.paymentMethod=!1,e.formErrors.paymentDate=!1,e.formErrors.netToPay=!1,e.formErrors.grossIncome=!1,e.formErrors.companyDeductions=!1,e.formErrors.nonDeductibleIncome=!1,e.formErrors.employeeDeductions=!1,u.value={show:!0,text:"Modifé avec succès",color:"success"}}).catch(s=>{s.response.data.issuanceDate?(e.formErrors.issuanceDate=!0,u.value={show:!0,text:s.response.data.issuanceDate,color:"red"}):e.formErrors.issuanceDate=!1,s.response.data.paymentMethod?(e.formErrors.paymentMethod=!0,u.value={show:!0,text:s.response.data.paymentMethod,color:"red"}):e.formErrors.paymentMethod=!1,s.response.data.TotalPayDeduction?(e.formErrors.TotalPayDeduction=!0,u.value={show:!0,text:s.response.data.TotalPayDeduction,color:"red"}):e.formErrors.TotalPayDeduction=!1,s.response.data.netToPay?(e.formErrors.netToPay=!0,u.value={show:!0,text:s.response.data.netToPay,color:"red"}):e.formErrors.netToPay=!1,s.response.data.grossIncome?(e.formErrors.grossIncome=!0,u.value={show:!0,text:s.response.data.grossIncome,color:"red"}):e.formErrors.grossIncome=!1,s.response.data.companyDeductions?(e.formErrors.companyDeductions=!0,u.value={show:!0,text:s.response.data.companyDeductions,color:"red"}):e.formErrors.nonDeductibleIncome=!1,s.response.data.nonDeductibleIncome?(e.formErrors.nonDeductibleIncome=!0,u.value={show:!0,text:s.response.data.nonDeductibleIncome,color:"red"}):e.formErrors.nonDeductibleIncome=!1,s.response.data.employeeDeductions?(e.formErrors.employeeDeductions=!0,u.value={show:!0,text:s.response.data.employeeDeductions,color:"red"}):e.formErrors.employeeDeductions=!1,console.log(s)})};return(s,r)=>(f(),P(R,{onSubmit:v(I,["prevent"]),enctype:"multipart/form-data"},{default:a(()=>[l(D,null,{default:a(()=>[l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).netToPay,"onUpdate:modelValue":r[0]||(r[0]=t=>o(e).netToPay=t),label:"Net à payer",placeholder:"Net à payer",error:o(e).formErrors.netToPay},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncome,"onUpdate:modelValue":r[1]||(r[1]=t=>o(e).grossIncome=t),label:"Révenu brut",placeholder:"Révenu",error:o(e).formErrors.grossIncome},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"date",modelValue:o(e).paymentDate,"onUpdate:modelValue":r[2]||(r[2]=t=>o(e).paymentDate=t),label:"Date de payement",error:o(e).formErrors.paymentDate},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).TotalPayDeduction,"onUpdate:modelValue":r[3]||(r[3]=t=>o(e).TotalPayDeduction=t),label:"Total deduction",error:o(e).formErrors.TotalPayDeduction},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"text",modelValue:o(e).paymentMethod,"onUpdate:modelValue":r[4]||(r[4]=t=>o(e).paymentMethod=t),label:"Method de payement",error:o(e).formErrors.paymentMethod},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"date",modelValue:o(e).issuanceDate,"onUpdate:modelValue":r[5]||(r[5]=t=>o(e).issuanceDate=t),label:"Issuance date",error:o(e).formErrors.issuanceDate},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).companyDeductions.cnpsPat,"onUpdate:modelValue":r[6]||(r[6]=t=>o(e).companyDeductions.cnpsPat=t),label:"Employeur CNPS Patronal",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).companyDeductions.is,"onUpdate:modelValue":r[7]||(r[7]=t=>o(e).companyDeductions.is=t),label:"Deduction employeur IS",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).companyDeductions.taxForm,"onUpdate:modelValue":r[8]||(r[8]=t=>o(e).companyDeductions.taxForm=t),label:"Deduction employeur tax",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).companyDeductions.taxtApp,"onUpdate:modelValue":r[9]||(r[9]=t=>o(e).companyDeductions.taxtApp=t),label:"Deduction employeur taxtapp",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).companyDeductions.total,"onUpdate:modelValue":r[10]||(r[10]=t=>o(e).companyDeductions.total=t),label:"Deduction employeur total",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.IGR,"onUpdate:modelValue":r[11]||(r[11]=t=>o(e).employeeDeductions.IGR=t),label:"employé deduction IGR",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.IS,"onUpdate:modelValue":r[12]||(r[12]=t=>o(e).employeeDeductions.IS=t),label:"employé deduction IS",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.cmu,"onUpdate:modelValue":r[13]||(r[13]=t=>o(e).employeeDeductions.cmu=t),label:"Employé CMU",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.cn,"onUpdate:modelValue":r[14]||(r[14]=t=>o(e).employeeDeductions.cn=t),label:"Employé CN",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.cnps,"onUpdate:modelValue":r[15]||(r[15]=t=>o(e).employeeDeductions.cnps=t),label:"employé CNPS ",error:o(e).formErrors.companyDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).employeeDeductions.payday,"onUpdate:modelValue":r[16]||(r[16]=t=>o(e).employeeDeductions.payday=t),label:"Avance Sur Salaire",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"text",modelValue:o(e).employeeDeductions.totret,"onUpdate:modelValue":r[17]||(r[17]=t=>o(e).employeeDeductions.totret=t),label:"Employé total rétenu",error:o(e).formErrors.employeeDeductions},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).nonDeductibleIncome.primetransport,"onUpdate:modelValue":r[18]||(r[18]=t=>o(e).nonDeductibleIncome.primetransport=t),label:"prime transport",error:o(e).formErrors.nonDeductibleIncome},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).nonDeductibleIncome.totalprime,"onUpdate:modelValue":r[19]||(r[19]=t=>o(e).nonDeductibleIncome.totalprime=t),label:"Total prime",error:o(e).formErrors.nonDeductibleIncome},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.hs15,"onUpdate:modelValue":r[20]||(r[20]=t=>o(e).grossIncomeDetails.hs15=t),label:"Heure sup 15",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.hs50,"onUpdate:modelValue":r[21]||(r[21]=t=>o(e).grossIncomeDetails.hs50=t),label:"Heure sup 50",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.hs75,"onUpdate:modelValue":r[22]||(r[22]=t=>o(e).grossIncomeDetails.hs75=t),label:"Heure sup 75",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.hs100,"onUpdate:modelValue":r[23]||(r[23]=t=>o(e).grossIncomeDetails.hs100=t),label:"Heure sup 100",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.ancienneteInYR,"onUpdate:modelValue":r[24]||(r[24]=t=>o(e).grossIncomeDetails.ancienneteInYR=t),label:"Anciènneté en année",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.brutImposableFiscal,"onUpdate:modelValue":r[25]||(r[25]=t=>o(e).grossIncomeDetails.brutImposableFiscal=t),label:"Brut imposable Fiscal",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.brutImposableSocial,"onUpdate:modelValue":r[26]||(r[26]=t=>o(e).grossIncomeDetails.brutImposableSocial=t),label:"Brut Imposable Social",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.conge,"onUpdate:modelValue":r[27]||(r[27]=t=>o(e).grossIncomeDetails.conge=t),label:"Congé",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.hstotal,"onUpdate:modelValue":r[28]||(r[28]=t=>o(e).grossIncomeDetails.hstotal=t),label:"Heure sup Total",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.salairBase,"onUpdate:modelValue":r[29]||(r[29]=t=>o(e).grossIncomeDetails.salairBase=t),label:"Salaire de base",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.seniority,"onUpdate:modelValue":r[30]||(r[30]=t=>o(e).grossIncomeDetails.seniority=t),label:"anciennete",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.sommeprime,"onUpdate:modelValue":r[31]||(r[31]=t=>o(e).grossIncomeDetails.sommeprime=t),label:"Somme prime",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.sursal,"onUpdate:modelValue":r[32]||(r[32]=t=>o(e).grossIncomeDetails.sursal=t),label:"Sur salaire",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(m,{cols:"12",md:"6"},{default:a(()=>[l(n,{type:"number",modelValue:o(e).grossIncomeDetails.sursalaire,"onUpdate:modelValue":r[33]||(r[33]=t=>o(e).grossIncomeDetails.sursalaire=t),label:"Sur salaire",error:o(e).formErrors.grossIncomeDetails},null,8,["modelValue","error"])]),_:1}),l(M,{modelValue:o(u).show,"onUpdate:modelValue":r[35]||(r[35]=t=>o(u).show=t),timeout:3e3,color:o(u).color,top:"top"},{action:a(({attrs:t})=>[l(p,x({text:""},t,{onClick:r[34]||(r[34]=F=>o(u).show=!1)}),{default:a(()=>[l(T,null,{default:a(()=>[d("mdi-close")]),_:1})]),_:2},1040)]),default:a(()=>[d(S(o(u).text)+" ",1)]),_:1},8,["modelValue","color"]),l(m,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[l(p,{type:"submit"},{default:a(()=>[d(" Enregistré ")]),_:1}),l(p,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[d(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}}),X=y({__name:"payslipEdit",setup(V){return(b,i)=>(f(),w("div",null,[l(D,null,{default:a(()=>[l(m,{cols:"12"},{default:a(()=>[l(C,{title:"Editer Bullétin"},{default:a(()=>[l(k,null,{default:a(()=>[l(B)]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{X as default};
