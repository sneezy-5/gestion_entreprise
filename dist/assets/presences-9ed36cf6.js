import{d as k,r as f,ba as E,l as I,o as m,m as V,k as s,e as c,p as i,bV as v,i as _,aM as y,f as e,Z as b,be as N,cl as g,t as l,V as C,S as O,T as $,Q as F,c as M}from"./index-548d44d1.js";import{a as S,b as R,V as U,e as j}from"./VCard-fc59d69e.js";import{V as L}from"./VDialog-76e8e84f.js";import{V as Q,a as Z}from"./VPagination-1ebcc86a.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{a as z,V as G}from"./VRow-4f92fdd1.js";import"./VAvatar-2a93fb47.js";import"./VImg-a20b01d5.js";import"./VOverlay-3b2ac0ae.js";import"./lazy-4c34a0b5.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-ec6f11a2.js";const J=p=>(O("data-v-dc7907bd"),p=p(),$(),p),K={class:"flex-end"},W=J(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase"}," Employé "),e("th",{class:"text-uppercase text-center"}," Debut "),e("th",{class:"text-uppercase text-center"}," Fin "),e("th",{class:"text-uppercase text-center"}," Absence "),e("th",{class:"text-uppercase text-center"}," Présence "),e("th",{class:"text-uppercase text-center"}," Delay "),e("th",{class:"text-uppercase text-center"}," Heure normal "),e("th",{class:"text-uppercase text-center"}," Heure normal complementaire "),e("th",{class:"text-uppercase text-center"}," Heure sup 15 "),e("th",{class:"text-uppercase text-center"}," Heure sup 50 "),e("th",{class:"text-uppercase text-center"}," Heure sup 75 "),e("th",{class:"text-uppercase text-center"}," Heure sup 100 "),e("th",{class:"text-uppercase text-center"}," Action ")])],-1)),X={class:"text-center"},Y={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},se={class:"text-center"},ae={class:"text-center"},oe={class:"text-center"},le={class:"text-center"},ce={class:"text-center"},ne={class:"text-center"},re={class:"text-center"},de={class:"text-center"},ue=["onClick"],pe=["onClick"],ie={class:"text-xs-center"},D=5,_e=k({__name:"DemoSimpleTableDensityPresence",setup(p){let x=f(0);const n=E([]),r=f(!1),H=a=>{x.value=a,r.value=!0},P=()=>{r.value=!1};let T=a=>{F.push({name:"edit-presence",params:{id:a}})},d=f(1);const h=()=>{console.log(d);const a=(d.value-1)*D,u=`limit=${D}&offset=${a}`;g.getAllPresences(u).then(o=>{const t=o.data.results;n.pop(),n.push(o.data),console.log(n[0].results,t)}).catch(o=>{(o.status="401")&&console.error(o)})},A=()=>{g.deletePresence(x.value).then(a=>{h()}).catch(a=>{(a.status="401")&&console.error(a)}),r.value=!1};h();const w=I(()=>{var a;return Math.ceil(((a=n[0])==null?void 0:a.count)/5)});return(a,u)=>(m(),V(b,null,[s(L,{modelValue:_(r),"onUpdate:modelValue":u[0]||(u[0]=o=>y(r)?r.value=o:null),"max-width":"500px"},{default:c(()=>[s(S,null,{default:c(()=>[s(R,{class:"headline"},{default:c(()=>[i("Confirmation de suppression")]),_:1}),s(U,null,{default:c(()=>[i(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),s(j,null,{default:c(()=>[s(v,{onClick:A,style:{color:"red"}},{default:c(()=>[i("Confimer")]),_:1}),s(v,{onClick:P},{default:c(()=>[i("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e("div",K,[s(v,{to:"/create-presence"},{default:c(()=>[i("Ajouter")]),_:1})]),s(Q,{density:"compact"},{default:c(()=>{var o;return[W,e("tbody",null,[(m(!0),V(b,null,N((o=_(n)[0])==null?void 0:o.results,t=>(m(),V("tr",{key:t.id},[e("td",null,l(t.user.employee.firstName)+" "+l(t.user.employee.lastName),1),e("td",X,l(t.periodStart),1),e("td",Y,l(t.periodEnd),1),e("td",ee,l(t.absentdays),1),e("td",te,l(t.presentdays),1),e("td",se,l(t.delays),1),e("td",ae,l(t.normalHours),1),e("td",oe,l(t.normalHoursComplementary),1),e("td",le,l(t.Overtime_15),1),e("td",ce,l(t.Overtime_50),1),e("td",ne,l(t.Overtime_75),1),e("td",re,l(t.Overtime_100),1),e("td",de,[e("button",{onClick:B=>_(T)(t.id)},[s(C,{icon:"mdi-edit"})],8,ue),e("button",{onClick:B=>H(t.id)},[s(C,{icon:"mdi-trash",style:{color:"red"}})],8,pe)])]))),128))])]}),_:1}),e("div",ie,[s(Z,{modelValue:_(d),"onUpdate:modelValue":u[1]||(u[1]=o=>y(d)?d.value=o:d=o),length:_(w),circle:"",onClick:h},null,8,["modelValue","length"])])],64))}});const me=q(_e,[["__scopeId","data-v-dc7907bd"]]),Pe=k({__name:"presences",setup(p){return(x,n)=>(m(),M(G,null,{default:c(()=>[s(z,{cols:"12"},{default:c(()=>[s(S,{title:"Density"},{default:c(()=>[s(me)]),_:1})]),_:1})]),_:1}))}});export{Pe as default};
