import{d as y,r as h,ba as I,l as N,o as _,m as x,k as e,e as a,p as u,bV as g,i as p,aM as v,f as t,Z as b,be as U,db as C,t as k,dc as $,V as D,S as E,T as L,Q as M,c as R}from"./index-bfa2d538.js";import{a as P,b as F,V as Q,e as Z}from"./VCard-7877ac97.js";import{V as q}from"./VDialog-5d8d2713.js";import{V as z,a as G}from"./VPagination-5f021d48.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{a as J,V as K}from"./VRow-18416828.js";import"./VAvatar-b5327750.js";import"./VImg-d7e6df3b.js";import"./VOverlay-b657f991.js";import"./lazy-98d5b0cb.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-44bf92b2.js";const O=d=>(E("data-v-7b749b88"),d=d(),L(),d),W={class:"flex-end"},X=O(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Nom "),t("th",{class:"text-uppercase text-center"}," Description "),t("th",{class:"text-uppercase text-center"}," Progression "),t("th",{class:"text-uppercase text-center"}," Action ")])],-1)),Y={class:"text-center"},ee={class:"text-center"},te=["onClick"],oe=["onClick"],se={class:"text-xs-center"},j=5,ae=y({__name:"DemoSimpleTableDensityProjet",setup(d){let m=h(0);const n=I([]),r=h(!1),S=o=>{m.value=o,r.value=!0},T=()=>{r.value=!1};let w=o=>{M.push({name:"edit-projet",params:{id:o}})},c=h(1);const f=()=>{console.log(c);const o=(c.value-1)*j,i=`limit=${j}&offset=${o}`;C.getProjects(i).then(s=>{const l=s.data.results;n.pop(),n.push(s.data),console.log(n[0].results,l)}).catch(s=>{(s.status="401")&&console.error(s)})},A=()=>{C.deleteProejct(m.value).then(o=>{f()}).catch(o=>{(o.status="401")&&console.error(o)}),r.value=!1};f();const B=N(()=>{var o;return Math.ceil(((o=n[0])==null?void 0:o.count)/5)});return(o,i)=>(_(),x(b,null,[e(q,{modelValue:p(r),"onUpdate:modelValue":i[0]||(i[0]=s=>v(r)?r.value=s:null),"max-width":"500px"},{default:a(()=>[e(P,null,{default:a(()=>[e(F,{class:"headline"},{default:a(()=>[u("Confirmation de suppression")]),_:1}),e(Q,null,{default:a(()=>[u(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),e(Z,null,{default:a(()=>[e(g,{onClick:A,style:{color:"red"}},{default:a(()=>[u("Confimer")]),_:1}),e(g,{onClick:T},{default:a(()=>[u("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",W,[e(g,{to:"/create-projet"},{default:a(()=>[u("Ajouter")]),_:1})]),e(z,{density:"compact"},{default:a(()=>{var s;return[X,t("tbody",null,[(_(!0),x(b,null,U((s=p(n)[0])==null?void 0:s.results,l=>(_(),x("tr",{key:l.id},[t("td",null,k(l.name),1),t("td",Y,k(l.description),1),t("td",null,[e($,{modelValue:l.progresion,"onUpdate:modelValue":V=>l.progresion=V,color:"success"},null,8,["modelValue","onUpdate:modelValue"])]),t("td",ee,[t("button",{onClick:V=>p(w)(l.id)},[e(D,{icon:"mdi-edit"})],8,te),t("button",{onClick:V=>S(l.id)},[e(D,{icon:"mdi-trash",style:{color:"red"}})],8,oe)])]))),128))])]}),_:1}),t("div",se,[e(G,{modelValue:p(c),"onUpdate:modelValue":i[1]||(i[1]=s=>v(c)?c.value=s:c=s),length:p(B),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const le=H(ae,[["__scopeId","data-v-7b749b88"]]),ge=y({__name:"projets",setup(d){return(m,n)=>(_(),R(K,null,{default:a(()=>[e(J,{cols:"12"},{default:a(()=>[e(P,{title:"Projets"},{default:a(()=>[e(le)]),_:1})]),_:1})]),_:1}))}});export{ge as default};
