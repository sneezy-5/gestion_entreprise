import"./caller.service-afc094da.js";import{p as v}from"./projet.service-8c51f1fc.js";import{d as j,r as h,O as I,l as N,o as _,m as V,k as e,e as a,p as d,bS as x,i as p,aL as C,f as t,Y as b,bc as $,t as g,cY as E,V as k,R,S as L,P as U,c as Y}from"./index-54e10577.js";import{a as y,b as z,V as F,e as M}from"./VCard-9f617b6a.js";import{V as O}from"./VDialog-d6bbd018.js";import{V as q,a as G}from"./VPagination-c4475e8a.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{a as J,V as K}from"./VRow-b4fd1837.js";import"./VAvatar-d640487b.js";import"./VImg-17513cc0.js";import"./VOverlay-0a4d3386.js";import"./lazy-c224c8a4.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./dialog-transition-f581d50d.js";const Q=u=>(R("data-v-d6f6b3de"),u=u(),L(),u),W={class:"flex-end"},X=Q(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase"}," Nom "),t("th",{class:"text-uppercase text-center"}," Description "),t("th",{class:"text-uppercase text-center"}," Progression "),t("th",{class:"text-uppercase text-center"}," Action ")])],-1)),Z={class:"text-center"},ee={class:"text-center"},te=["onClick"],oe=["onClick"],se={class:"text-xs-center"},D=5,ae=j({__name:"DemoSimpleTableDensityProjet",setup(u){let m=h(0);const r=I([]),n=h(!1),P=o=>{m.value=o,n.value=!0},S=()=>{n.value=!1};let T=o=>{U.push({name:"edit-projet",params:{id:o}})},c=h(1);const f=()=>{console.log(c);const o=(c.value-1)*D,i=`limit=${D}&offset=${o}`;v.getProjects(i).then(s=>{const l=s.data.results;r.pop(),r.push(s.data),console.log(r[0].results,l)}).catch(s=>{(s.status="401")&&console.error(s)})},w=()=>{v.deleteProejct(m.value).then(o=>{f()}).catch(o=>{(o.status="401")&&console.error(o)}),n.value=!1};f();const A=N(()=>{var o;return Math.ceil(((o=r[0])==null?void 0:o.count)/5)});return(o,i)=>(_(),V(b,null,[e(O,{modelValue:p(n),"onUpdate:modelValue":i[0]||(i[0]=s=>C(n)?n.value=s:null),"max-width":"500px"},{default:a(()=>[e(y,null,{default:a(()=>[e(z,{class:"headline"},{default:a(()=>[d("Confirmation de suppression")]),_:1}),e(F,null,{default:a(()=>[d(" Êtes-vous sûr de vouloir supprimer ces données ? ")]),_:1}),e(M,null,{default:a(()=>[e(x,{onClick:w,style:{color:"red"}},{default:a(()=>[d("Confimer")]),_:1}),e(x,{onClick:S},{default:a(()=>[d("Annuler")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",W,[e(x,{to:"/create-projet"},{default:a(()=>[d("Ajouter")]),_:1})]),e(q,{density:"compact"},{default:a(()=>{var s;return[X,t("tbody",null,[(_(!0),V(b,null,$((s=p(r)[0])==null?void 0:s.results,l=>(_(),V("tr",{key:l.id},[t("td",null,g(l.name),1),t("td",Z,g(l.description),1),t("td",null,[e(E,{rotate:360,size:100,width:15,value:l.progression,color:"teal"},{default:a(()=>[d(g(l.progression),1)]),_:2},1032,["value"])]),t("td",ee,[t("button",{onClick:B=>p(T)(l.id)},[e(k,{icon:"mdi-edit"})],8,te),t("button",{onClick:B=>P(l.id)},[e(k,{icon:"mdi-trash",style:{color:"red"}})],8,oe)])]))),128))])]}),_:1}),t("div",se,[e(G,{modelValue:p(c),"onUpdate:modelValue":i[1]||(i[1]=s=>C(c)?c.value=s:c=s),length:p(A),circle:"",onClick:f},null,8,["modelValue","length"])])],64))}});const le=H(ae,[["__scopeId","data-v-d6f6b3de"]]),Ce=j({__name:"projets",setup(u){return(m,r)=>(_(),Y(K,null,{default:a(()=>[e(J,{cols:"12"},{default:a(()=>[e(y,{title:"Projets"},{default:a(()=>[e(le)]),_:1})]),_:1})]),_:1}))}});export{Ce as default};
